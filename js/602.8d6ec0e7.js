"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[602],{11754:(e,a,t)=>{t.r(a),t.d(a,{default:()=>me});var l=t(59835),o=t(86970);const s=e=>((0,l.dD)("data-v-01756e94"),e=e(),(0,l.Cn)(),e),i={class:"q-pa-md",style:{"max-width":"1439px"}},n=s((()=>(0,l._)("div",{class:"text-h6"},"Under Construction",-1))),r=(0,l.Uk)(" Auction House is coming soon. These data are just samples. "),u={class:"my-table-details",style:{"padding-left":"0px"}},m={class:"no-padding"},c={class:"my-table-details text-left"},d={class:"text-bold"},p={class:"my-table-details"},w={class:"my-table-details text-left"},f={class:"my-table-details text-left"},b=s((()=>(0,l._)("div",{class:"text-h4 q-mb-md"},"Alarms",-1))),h=s((()=>(0,l._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),g=s((()=>(0,l._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),v=s((()=>(0,l._)("div",{class:"text-h4 q-mb-md"},"Movies",-1))),y=s((()=>(0,l._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),q=s((()=>(0,l._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),_=s((()=>(0,l._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),W=s((()=>(0,l._)("div",{class:"text-h6"},"Under Construction",-1))),k=(0,l.Uk)(" Auction House is coming soon. These data are just samples. "),x=s((()=>(0,l._)("div",{class:"text-h6"},"Under Construction",-1))),Z=(0,l.Uk)(" Auction House is coming soon. These data are just samples. "),Q=s((()=>(0,l._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),C=s((()=>(0,l._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function I(e,a,t,s,I,T){const U=(0,l.up)("q-tab"),A=(0,l.up)("q-tabs"),V=(0,l.up)("q-separator"),N=(0,l.up)("q-tab-panel"),P=(0,l.up)("q-th"),G=(0,l.up)("q-tr"),H=(0,l.up)("CrystalGem"),M=(0,l.up)("q-td"),S=(0,l.up)("q-table"),E=(0,l.up)("q-tab-panels"),j=(0,l.up)("q-card"),z=(0,l.up)("nft-menu"),L=(0,l.up)("q-avatar"),$=(0,l.up)("q-space"),B=(0,l.up)("q-btn"),D=(0,l.up)("q-card-section"),F=(0,l.up)("q-card-actions"),R=(0,l.up)("q-dialog"),O=(0,l.up)("q-page"),Y=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(O,{class:"row items-center justify-evenly bg-pic",style:{"padding-top":"58px"}},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(j,{class:""},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=a=>e.tab=a),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{name:"browse",label:"Browse"}),(0,l.Wm)(U,{name:"bids",label:"Bids"}),(0,l.Wm)(U,{name:"auctions",label:"Auctions"})])),_:1},8,["modelValue"]),(0,l.Wm)(V),(0,l.Wm)(E,{modelValue:e.tab,"onUpdate:modelValue":a[3]||(a[3]=a=>e.tab=a),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{name:"overview"},{default:(0,l.w5)((()=>[n,r])),_:1}),(0,l.Wm)(N,{name:"browse",class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{"narrow-indicator":"",modelValue:e.browseTab,"onUpdate:modelValue":a[1]||(a[1]=a=>e.browseTab=a),class:"text-teal"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{name:"browseGems",icon:"mdi-diamond-stone"}),(0,l.Wm)(U,{disable:"",name:"browseEquipment",icon:"mdi-sword"}),(0,l.Wm)(U,{disable:"",name:"browseAvatars",icon:"mdi-account-box-multiple"})])),_:1},8,["modelValue"]),(0,l.Wm)(E,{modelValue:e.browseTab,"onUpdate:modelValue":a[2]||(a[2]=a=>e.browseTab=a),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{name:"browseGems",class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{dense:e.$q.screen.lt.sm,"virtual-scroll":"","rows-per-page-options":[25],class:"my-sticky-header-table bg-none",rows:e.sellingGems,columns:e.gemColumns,"row-key":"auctionId",style:{"text-shadow":"#000 1px 0 10px"}},{header:(0,l.w5)((a=>[(0,l.Wm)(G,{props:a},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.cols,(t=>((0,l.wg)(),(0,l.j4)(P,{key:t.name,props:a,class:"text-primary text-justify"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(""==t.label?"":e.$t("gems."+t.label)),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),"body-cell-nft":(0,l.w5)((e=>[(0,l.Wm)(M,{props:e},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",m,[(0,l.Wm)(H,{nft:e.row.nft,level:e.row.level,color:e.row.color,quality:e.row.quality,scale:e.row.scale,size:50,detail:!0,sell:!0,names:!0},null,8,["nft","level","color","quality","scale"])])])])),_:2},1032,["props"])])),"body-cell-price":(0,l.w5)((a=>[(0,l.Wm)(M,{props:a},{default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l._)("div",d," $"+(0,o.zw)(e.$n(a.row.price.startingPrice)),1),(0,l._)("div",null,"$"+(0,o.zw)(e.$n(a.row.price.buyOutPrice)),1)])])),_:2},1032,["props"])])),"body-cell-scale":(0,l.w5)((e=>[(0,l.Wm)(M,{props:e},{default:(0,l.w5)((()=>[(0,l._)("div",p,(0,o.zw)(parseInt(100*e.row.scale)),1)])),_:2},1032,["props"])])),"body-cell-quality":(0,l.w5)((e=>[(0,l.Wm)(M,{props:e},{default:(0,l.w5)((()=>[(0,l._)("div",w,(0,o.zw)(e.row.quality),1)])),_:2},1032,["props"])])),"body-cell-level":(0,l.w5)((e=>[(0,l.Wm)(M,{props:e},{default:(0,l.w5)((()=>[(0,l._)("div",f,(0,o.zw)(parseInt(4*e.row.level+10)),1)])),_:2},1032,["props"])])),_:1},8,["dense","rows","columns"])])),_:1}),(0,l.Wm)(N,{name:"browseEquipment"},{default:(0,l.w5)((()=>[b,h,g])),_:1}),(0,l.Wm)(N,{name:"browseAvatars"},{default:(0,l.w5)((()=>[v,y,q,_])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(N,{name:"bids"},{default:(0,l.w5)((()=>[W,k])),_:1}),(0,l.Wm)(N,{name:"auctions"},{default:(0,l.w5)((()=>[x,Z])),_:1})])),_:1},8,["modelValue"])])),_:1})]),(0,l.Wm)(z),(0,l.Wm)(R,{modelValue:e.switchNet,"onUpdate:modelValue":a[5]||(a[5]=a=>e.switchNet=a),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{class:"bg-glass"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"row items-center q-pb-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),Q,(0,l.Wm)($),(0,l.wy)((0,l.Wm)(B,{icon:"close",flat:"",round:"",dense:""},null,512),[[Y]])])),_:1}),(0,l.Wm)(D,{class:"row items-center"},{default:(0,l.w5)((()=>[C])),_:1}),(0,l.Wm)(F,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(B,{class:"full-width",label:"Switch",color:"primary",onClick:a[4]||(a[4]=a=>e.switchNetwork(e.netIndex))},null,512),[[Y]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var T=t(60499),U=t(19302),A=t(65457),V=t(44320),N=t(80016),P=t(85990),G=t(17779),H=function(e,a,t,l){function o(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,s){function i(e){try{r(l.next(e))}catch(a){s(a)}}function n(e){try{r(l["throw"](e))}catch(a){s(a)}}function r(e){e.done?t(e.value):o(e.value).then(i,n)}r((l=l.apply(e,a||[])).next())}))};const M=[{name:"nft",label:"itemName",field:"auctionId",align:"left",sortable:!0},{name:"price",label:"price",field:"price",align:"left",sortable:!0,sort:(e,a)=>parseInt(e.startingPrice,10)-parseInt(a.startingPrice,10)},{name:"quality",label:"quality",field:"quality",align:"left",sortable:!0},{name:"level",label:"level",field:"level",align:"left",sortable:!0}];function S(e){G.log("Switch network: ",(0,P.v)().networks[e].name,(0,P.v)().networks[e].id),(0,P.v)().initWeb3(e)}const E={title:"Crystal - Auction"},j=(0,l.aZ)({name:"AuctionPage",components:{NftMenu:V.Z,CrystalGem:N.Z},setup(){const e=(0,U.Z)();e.dark.set(!0),(0,A.Z)(E);const a=(0,T.iH)([]),t=(0,T.iH)(!1),l=(0,T.iH)(0),o=(0,T.iH)("0xf18a1FEf4823Ce5ddb20B71D82FA06470DF84B17");function s(){return H(this,void 0,void 0,(function*(){const e=yield(0,P.v)().web3.eth.net.getId().then((e=>(G.log(e),e))).catch((e=>(G.log("checkNetwork: ",e),-1)));return e}))}function i(e){return H(this,void 0,void 0,(function*(){const a=(0,P.v)().networks[e].id,t=(0,P.v)().networks[e].name,l=(0,P.v)().networks[e].tokenName,o=(0,P.v)().networks[e].symbol,s=(0,P.v)().networks[e].rpcUrl,i=(0,P.v)().networks[e].explorer,n="0x"+a.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),location.reload()}catch(r){if(G.log(r),4902===r.code){G.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:t,nativeCurrency:{name:l,symbol:o,decimals:18},rpcUrls:[s],blockExplorerUrls:[i]}]}),location.reload()}catch(u){alert(u.message)}}else alert(r.message)}}))}function n(){return H(this,void 0,void 0,(function*(){for(let e=0;e<96;e++){let t=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),l=Math.floor(1e3*Math.random())/1e3;const o={nft:0,level:t%16,color:t%6,quality:t%100+1,scale:t%74/100+.24,properties:"0xffffffffff",auctionId:333+e,price:{startingPrice:l*Math.pow(2,t%16+1),buyOutPrice:l*Math.pow(2,t%16+1)*(t%50+1)}};a.value.push(o)}}))}return{tab:(0,T.iH)("browse"),browseTab:(0,T.iH)("browseGems"),gemColumns:M,sellingGems:a,netIndex:l,auctionContract:o,switchNet:t,checkNetwork:s,switchNetwork:i,getSellingGems:n,initGame(){return H(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),a=e.get("ref");G.log(a||"No Ref");const o=l.value;S(o);const i=yield s();if(i!=(0,P.v)().networks[o].id)return G.log(i,"!=",(0,P.v)().networks[o].id),void(t.value=!0)}))}}},beforeMount(){this.initGame(),this.getSellingGems()}});var z=t(11639),L=t(69885),$=t(44458),B=t(47817),D=t(57661),F=t(50926),R=t(89800),O=t(84106),Y=t(8858),K=t(31233),X=t(21682),J=t(67220),ee=t(32074),ae=t(63190),te=t(61357),le=t(90136),oe=t(68879),se=t(11821),ie=t(62146),ne=t(69984),re=t.n(ne);const ue=(0,z.Z)(j,[["render",I],["__scopeId","data-v-01756e94"]]),me=ue;re()(j,"components",{QPage:L.Z,QCard:$.Z,QTabs:B.Z,QTab:D.Z,QSeparator:F.Z,QTabPanels:R.Z,QTabPanel:O.Z,QTable:Y.Z,QTr:K.Z,QTh:X.Z,QTd:J.Z,QDialog:ee.Z,QCardSection:ae.Z,QAvatar:te.Z,QSpace:le.Z,QBtn:oe.Z,QCardActions:se.Z}),re()(j,"directives",{ClosePopup:ie.Z})}}]);