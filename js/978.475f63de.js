"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[978],{84592:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var a=n(59835),s=n(86970);const i=e=>((0,a.dD)("data-v-3e3db13a"),e=e(),(0,a.Cn)(),e),r={class:"q-pa-md",style:{"max-width":"1439px"}},l=i((()=>(0,a._)("div",{class:"min-width-320 text-white text-h6 text-bold text-center"}," Coming Soon... ",-1))),o=i((()=>(0,a._)("div",{class:"gem-glory-box"},[(0,a._)("div",{class:"gem-glory"})],-1))),d={class:"gem-box"},u={key:0,class:"q-gutter-sm"},c=i((()=>(0,a._)("div",{class:"min-width-320 text-white text-center"}," Invite people and Get more ",-1))),p={class:"self-center full-width no-outline",tabindex:"0"},m={class:"min-width-320 text-white text-center"},y={class:"absolute-full flex flex-center"},f=(0,a.Uk)(" Claim Free Gem "),w={key:1,class:"q-gutter-sm"},b=(0,a.Uk)(" Claim Free Gem "),h=i((()=>(0,a._)("div",{class:"self-center full-width no-outline",tabindex:"0"}," Member Points: ",-1))),v=i((()=>(0,a._)("div",{class:"self-center full-width no-outline",tabindex:"0"}," Points/Stone: ",-1))),g=i((()=>(0,a._)("div",null,null,-1))),k=(0,a.Uk)(" Redeem "),_=i((()=>(0,a._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),x=i((()=>(0,a._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function T(e,t,n,i,T,C){const W=(0,a.up)("q-btn"),q=(0,a.up)("q-field"),I=(0,a.up)("q-badge"),M=(0,a.up)("q-linear-progress"),S=(0,a.up)("q-input"),Z=(0,a.up)("q-card-section"),N=(0,a.up)("q-card"),P=(0,a.up)("q-tab-panel"),Q=(0,a.up)("q-tab-panels"),U=(0,a.up)("nft-menu"),H=(0,a.up)("q-avatar"),A=(0,a.up)("q-space"),z=(0,a.up)("q-card-actions"),F=(0,a.up)("q-dialog"),G=(0,a.up)("q-page"),O=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(G,{class:"row items-center justify-evenly bg-pic",style:{"padding-top":"58px"}},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(Q,{class:"bg-none",flat:"","model-value":"gacha",animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{name:"gacha",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(N,{class:"bg-glass",style:{"max-width":"340px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{class:"row q-gutter-sm justify-evenly"},{default:(0,a.w5)((()=>[l,o,(0,a._)("div",d,[(0,a.Wm)(W,{flat:"",class:"gem-in-box","text-color":"grey",label:"?"},{default:(0,a.w5)((()=>[(0,a._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine",onClick:t[0]||(t[0]=(...t)=>e.newSample&&e.newSample(...t))})])),_:1})]),e.redeemInfo.redeemed.value>0?((0,a.wg)(),(0,a.iD)("div",u,[c,(0,a.Wm)(q,{outlined:"","stack-label":"",label:"Referral code",readonly:"",class:"min-width-320"},{control:(0,a.w5)((()=>[(0,a._)("div",p," Crystal.Network/Airdrop?ref="+(0,s.zw)(e.refCode),1)])),append:(0,a.w5)((()=>[(0,a.Wm)(W,{round:"",dense:"",flat:"",icon:"content_copy"})])),_:1}),(0,a._)("div",m,[(0,a.Wm)(M,{size:"50px",value:e.refProgress,color:"primary",class:"q-mt-sm"},{default:(0,a.w5)((()=>[(0,a._)("div",y,[(0,a.Wm)(I,{color:"white","text-color":"primary",label:e.refProgressLabel},null,8,["label"])])])),_:1},8,["value"])]),(0,a.Wm)(W,{unelevated:"",color:"primary",class:"min-width-320","no-caps":"",disable:e.refProgress<1},{default:(0,a.w5)((()=>[f])),_:1},8,["disable"])])):((0,a.wg)(),(0,a.iD)("div",w,[(0,a.Wm)(S,{outlined:"",color:"purple-12",modelValue:e.refCode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.refCode=t),label:"Referral code",class:"min-width-320"},{append:(0,a.w5)((()=>[])),_:1},8,["modelValue"]),(0,a.Wm)(W,{disable:"",unelevated:"",color:"primary",class:"min-width-320","no-caps":""},{default:(0,a.w5)((()=>[b])),_:1})])),(0,a.Wm)(q,{outlined:"","stack-label":"",label:"Play game to get more",readonly:"",class:"min-width-320"},{control:(0,a.w5)((()=>[h])),append:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.memberInfo.score.value)+" ",1),(0,a.Wm)(W,{round:"",dense:"",flat:"",icon:"las la-gem",to:"games"})])),_:1}),(0,a.Wm)(q,{outlined:"",dense:"","stack-label":"",label:"The cost of digging once",readonly:"",class:"min-width-320"},{control:(0,a.w5)((()=>[v])),append:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.minerInfo.price.value)+" ",1),(0,a.Wm)(W,{disable:"",round:"",dense:"",flat:"",icon:"las la-gem"})])),_:1}),g,(0,a.Wm)(W,{disable:"",unelevated:"",color:"primary",class:"min-width-320","no-caps":""},{default:(0,a.w5)((()=>[k])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})]),(0,a.Wm)(U),(0,a.Wm)(F,{modelValue:e.switchNet,"onUpdate:modelValue":t[3]||(t[3]=t=>e.switchNet=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(N,{class:"bg-glass"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{class:"row items-center q-pb-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),_,(0,a.Wm)(A),(0,a.wy)((0,a.Wm)(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[O]])])),_:1}),(0,a.Wm)(Z,{class:"row items-center"},{default:(0,a.w5)((()=>[x])),_:1}),(0,a.Wm)(z,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(W,{class:"full-width",label:"Switch",color:"primary",onClick:t[2]||(t[2]=t=>e.switchNetwork(e.netIndex))},null,512),[[O]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var C=n(60499),W=n(19302),q=n(65457),I=n(25034),M=n(85990),S=n(17779),Z=function(e,t,n,a){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{o(a.next(e))}catch(t){i(t)}}function l(e){try{o(a["throw"](e))}catch(t){i(t)}}function o(e){e.done?n(e.value):s(e.value).then(r,l)}o((a=a.apply(e,t||[])).next())}))};const N=n(94428);function P(e){S.log("Switch network: ",(0,M.v)().networks[e].name,(0,M.v)().networks[e].id),(0,M.v)().initWeb3(e)}const Q={title:"Crystal - Gem"},U=(0,a.aZ)({name:"NftClaimPage",components:{NftMenu:I.Z},setup(){const e=(0,W.Z)();e.dark.set(!0),(0,q.Z)(Q);const t=(0,C.iH)(15),n=(0,C.iH)(!1),s=(0,C.iH)(1),i=(0,C.iH)("0xE142A2741E6b55329185E4490F148b97d35c98B9"),r={bets:(0,C.iH)("0"),score:(0,C.iH)("0"),name:(0,C.iH)("n/a")},l={redeemed:(0,C.iH)(0)},o={price:(0,C.iH)("10000")},d=(0,C.iH)(.5),u=(0,C.iH)("");function c(){return Z(this,void 0,void 0,(function*(){const e=yield(0,M.v)().web3.eth.net.getId().then((e=>(S.log(e),e))).catch((e=>(S.log("checkNetwork: ",e),-1)));return e}))}function p(e){return Z(this,void 0,void 0,(function*(){const t=(0,M.v)().networks[e].id,n=(0,M.v)().networks[e].name,a=(0,M.v)().networks[e].tokenName,s=(0,M.v)().networks[e].symbol,i=(0,M.v)().networks[e].rpcUrl,r=(0,M.v)().networks[e].explorer,l="0x"+t.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:l}]}),location.reload()}catch(o){if(S.log(o),4902===o.code){S.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:l,chainName:n,nativeCurrency:{name:a,symbol:s,decimals:18},rpcUrls:[i],blockExplorerUrls:[r]}]}),location.reload()}catch(d){alert(d.message)}}else alert(o.message)}}))}function m(e){return Z(this,void 0,void 0,(function*(){const t=(0,M.v)().web3Instance;if(t.utils.isAddress((0,M.v)().accountAddr)){const n=new t.eth.Contract(N,e);n.methods.userDetail((0,M.v)().accountAddr).call().then((function(e){S.log("getMemberInfo: ",e),r.bets.value=e.bets,r.score.value=e.score,r.name.value="0"==e.name?"N/a":e.name})).catch((function(e){S.log("getMemberInfo: ",e)}))}}))}return{netIndex:s,switchNet:n,memberContract:i,memberInfo:r,redeemInfo:l,minerInfo:o,refProgress:d,refProgressLabel:(0,a.Fl)((()=>(100*d.value).toFixed(2)+"%")),refCode:u,sampleGem:t,sampleStyle:(0,a.Fl)((()=>"transform: scale(1.0); height: 45px; width: 45px; background-blend-mode: hard-light; -webkit-mask-mode: alpha; mask-mode: alpha; background-image: url('"+t.value%16+"'), linear-gradient(#f0f0f0, #f0f0f0); -webkit-mask-image: url('"+t.value%16+"'); mask-image: url('"+t.value%16+"'); background-size: cover; -webkit-mask-size: 100%; mask-size: 100%;")),checkNetwork:c,switchNetwork:p,getMemberInfo:m,initGame(){return Z(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),t=e.get("ref");S.log("Referral code:",t||"No Ref"),t&&(localStorage.refCode=t),localStorage.refCode&&(u.value=localStorage.refCode);const a=s.value;P(a);const r=yield c();if(r!=(0,M.v)().networks[a].id)return S.log(r,"!=",(0,M.v)().networks[a].id),void(n.value=!0);m(i.value)}))},updateInputs(e){S.log("updateInputs: ",e)},gemSelected(e){S.log("Selected: ",e)},newSample(){t.value+=1}}},beforeMount(){this.initGame()}});var H=n(11639),A=n(69885),z=n(89800),F=n(84106),G=n(44458),O=n(63190),R=n(18149),D=n(68879),E=n(8289),V=n(20990),B=n(66611),L=n(32074),j=n(61357),J=n(90136),Y=n(11821),K=n(62146),X=n(69984),$=n.n(X);const ee=(0,H.Z)(U,[["render",T],["__scopeId","data-v-3e3db13a"]]),te=ee;$()(U,"components",{QPage:A.Z,QTabPanels:z.Z,QTabPanel:F.Z,QCard:G.Z,QCardSection:O.Z,QField:R.Z,QBtn:D.Z,QLinearProgress:E.Z,QBadge:V.Z,QInput:B.Z,QDialog:L.Z,QAvatar:j.Z,QSpace:J.Z,QCardActions:Y.Z}),$()(U,"directives",{ClosePopup:K.Z})},94428:e=>{e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"added","type":"address"}],"name":"CertifiedAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"removed","type":"address"}],"name":"CertifiedRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"addCertified","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"addScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"certifieds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"isCertified","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"removeCertified","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"nameIndex","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"setName","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"subScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userBets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userDetail","outputs":[{"components":[{"internalType":"uint256","name":"bets","type":"uint256"},{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"uint256","name":"name","type":"uint256"}],"internalType":"struct Membership.User","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userNameIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')}}]);