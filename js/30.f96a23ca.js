"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[30],{7492:(e,t,a)=>{a.r(t),a.d(t,{default:()=>xt});var n=a(59835),l=a(86970);const i=e=>((0,n.dD)("data-v-6ac1790c"),e=e(),(0,n.Cn)(),e),s={class:"q-pa-md",style:{"max-width":"1439px"}},o=i((()=>(0,n._)("div",{class:"text-shadow text-h6"},"Auction House - Beta",-1))),r=i((()=>(0,n._)("div",{class:"text-h6"},"Under Construction",-1))),c=(0,n.Uk)(" Auction House is coming soon. These data are just samples. "),u={class:"my-table-details",style:{"padding-left":"0px"}},d=["onClick"],m={class:"my-table-details row"},f={class:"text-left inline"},p={style:{display:"flex","flex-wrap":"nowrap"}},v=i((()=>(0,n._)("div",{class:"text-bold"}," Auction is ending soon ",-1))),w={style:{display:"flex","flex-wrap":"nowrap"}},g={key:0,class:"container",style:{"margin-right":"5px"}},h={class:"text-h7"},b=(0,n.Uk)(" Current Price "),y={style:{display:"flex","flex-wrap":"nowrap"}},_={class:"container",style:{"margin-right":"5px"}},x={class:"text-h7 text-grey"},k=(0,n.Uk)(" Buy Out Price "),A={class:"my-table-details text-left text-h7"},q={class:"my-table-details text-left text-h7"},W={class:"my-table-details text-left text-h7"},C=i((()=>(0,n._)("div",{class:"text-h4 q-mb-md"},"Alarms",-1))),I=i((()=>(0,n._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),B=i((()=>(0,n._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),z=i((()=>(0,n._)("div",{class:"text-h4 q-mb-md"},"Movies",-1))),U=i((()=>(0,n._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),S=i((()=>(0,n._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),P=i((()=>(0,n._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),H=i((()=>(0,n._)("div",{class:"text-h6"},"Under Construction",-1))),Z=(0,n.Uk)(" Auction House is coming soon. These data are just samples. "),D=i((()=>(0,n._)("div",null,null,-1))),N={key:0,class:"text-h6"},Q=["onClick"],E={class:"q-pr-xs cursor-pointer"},F=i((()=>(0,n._)("span",{class:"text-grey-8"},"Bids:",-1))),T={class:"text-weight-medium q-pr-xs"},V={class:"text-primary q-gutter-xs"},G=(0,n.Uk)(" FulFill "),$=(0,n.Uk)(" Cancel "),R={class:"text-shadow"},j=i((()=>(0,n._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),L=i((()=>(0,n._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1))),O={class:"gem-detail-box row items-center justify-evenly"},J={key:0,class:"gem-box-text"},Y={class:"info text-shadow"},K={class:"row"},M={class:"gem-level q-pr-sm"},X={class:"gem-scale q-pr-sm"},ee={class:"gem-quality q-pr-sm"},te={class:"gem-quality text-caption text-grey",style:{"max-width":"200px"}},ae=["href"],ne={key:0,class:"text-grey"},le=["href"],ie={class:"self-center full-width no-outline text-h6",tabindex:"0"},se=i((()=>(0,n._)("div",{class:"text-h6"},"USDC",-1))),oe={class:"self-center full-width no-outline text-h6",tabindex:"0"},re=i((()=>(0,n._)("div",{class:"text-h6"},"USDC",-1))),ce={class:"self-center full-width no-outline text-h6",tabindex:"0"},ue=i((()=>(0,n._)("div",{class:"text-h6"},"USDC",-1))),de=i((()=>(0,n._)("br",null,null,-1))),me={class:"event-view row justify-between",style:{"align-items":"baseline",display:"flex","flex-wrap":"wrap-reverse"}},fe={class:"row"},pe={class:"USER q-pr-xs",style:{"margin-top":"0px"}},ve=["href"],we=i((()=>(0,n._)("i",{class:"las la-user"},null,-1))),ge={class:"tx q-pr-xs",style:{"margin-top":"0px"}},he=["href"],be=i((()=>(0,n._)("i",{class:"las la-file-alt"},null,-1))),ye={class:(0,l.C_)(""),style:{display:"flex","align-items":"center"}},_e=i((()=>(0,n._)("div",{class:"event text-bold q-mr-sm"},[(0,n._)("a",null,(0,l.zw)("Bid:"))],-1))),xe={class:"event text-h6"},ke=["src"],Ae=i((()=>(0,n._)("span",{class:"text-h6 q-ml-sm"},"USDC Allowance",-1))),qe={class:"q-ml-sm"};function We(e,t,a,i,We,Ce){const Ie=(0,n.up)("q-tab"),Be=(0,n.up)("q-tabs"),ze=(0,n.up)("q-separator"),Ue=(0,n.up)("q-tab-panel"),Se=(0,n.up)("q-th"),Pe=(0,n.up)("q-tr"),He=(0,n.up)("CrystalGem"),Ze=(0,n.up)("q-td"),De=(0,n.up)("q-icon"),Ne=(0,n.up)("q-banner"),Qe=(0,n.up)("q-popup-proxy"),Ee=(0,n.up)("q-btn"),Fe=(0,n.up)("q-tooltip"),Te=(0,n.up)("q-table"),Ve=(0,n.up)("q-tab-panels"),Ge=(0,n.up)("q-item-section"),$e=(0,n.up)("q-item-label"),Re=(0,n.up)("q-item"),je=(0,n.up)("q-list"),Le=(0,n.up)("q-card"),Oe=(0,n.up)("nft-menu"),Je=(0,n.up)("q-avatar"),Ye=(0,n.up)("q-space"),Ke=(0,n.up)("q-card-section"),Me=(0,n.up)("q-card-actions"),Xe=(0,n.up)("q-dialog"),et=(0,n.up)("q-chip"),tt=(0,n.up)("q-input"),at=(0,n.up)("q-scroll-area"),nt=(0,n.up)("BalanceView"),lt=(0,n.up)("q-page"),it=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(lt,{class:"row items-start justify-center bg-pic",style:{"padding-top":"58px"}},{default:(0,n.w5)((()=>[(0,n._)("div",s,[o,(0,n.Wm)(Le,{class:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Be,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ie,{name:"browse",label:"Browse"}),(0,n.Wm)(Ie,{name:"bids",label:"Bids"}),(0,n.Wm)(Ie,{name:"auctions",label:"Auctions"})])),_:1},8,["modelValue"]),(0,n.Wm)(ze),(0,n.Wm)(Ve,{modelValue:e.tab,"onUpdate:modelValue":t[3]||(t[3]=t=>e.tab=t),animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Ue,{name:"overview"},{default:(0,n.w5)((()=>[r,c])),_:1}),(0,n.Wm)(Ue,{name:"browse",class:"q-pa-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Be,{"narrow-indicator":"",modelValue:e.browseTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.browseTab=t),class:"text-teal"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ie,{name:"browseGems",icon:"mdi-diamond-stone"}),(0,n.Wm)(Ie,{disable:"",name:"browseEquipment",icon:"mdi-sword"}),(0,n.Wm)(Ie,{disable:"",name:"browseAvatars",icon:"mdi-account-box-multiple"})])),_:1},8,["modelValue"]),(0,n.Wm)(Ve,{modelValue:e.browseTab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.browseTab=t),animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Ue,{name:"browseGems",class:"no-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(Te,{dense:"","row-key":"auctionId","rows-per-page-options":[25],rows:e.allAH,columns:e.gemColumns,class:"my-sticky-header-table bg-none text-shadow"},{header:(0,n.w5)((t=>[(0,n.Wm)(Pe,{props:t},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.cols,(a=>((0,n.wg)(),(0,n.j4)(Se,{key:a.name,props:t,class:"text-primary text-justify"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(""==a.label?"":e.$t("gems."+a.label)),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),"body-cell-nft":(0,n.w5)((t=>[(0,n.Wm)(Ze,{class:"top-border"},{default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n._)("div",{onClick:a=>e.bidClicked(t.row.auctionId)},[(0,n.Wm)(He,{nft:t.row.nft,level:t.row.level,color:t.row.color,quality:t.row.quality,scale:t.row.scale,size:50,names:!0},null,8,["nft","level","color","quality","scale"])],8,d)])])),_:2},1024)])),"body-cell-price":(0,n.w5)((t=>[(0,n.Wm)(Ze,{class:"top-border"},{default:(0,n.w5)((()=>[(0,n._)("div",m,[(0,n._)("div",f,[(0,n._)("div",p,[t.row.endBlock-e.currentBlock<900?((0,n.wg)(),(0,n.j4)(Ee,{key:0,flat:"",dense:"",class:"no-padding",style:{width:"18px","margin-right":"5px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(De,{size:"xs",name:"las la-stopwatch"}),(0,n.Wm)(Qe,{anchor:"center start",self:"center end"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ne,null,{avatar:(0,n.w5)((()=>[(0,n.Wm)(De,{size:"md",name:"las la-stopwatch",color:"primary"})])),default:(0,n.w5)((()=>[v])),_:1})])),_:1})])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(Ee,{size:"xs",align:"left",dense:"",flat:"",onClick:a=>e.bidClicked(t.row.auctionId),style:{"padding-left":"0px"}},{default:(0,n.w5)((()=>[(0,n._)("div",w,[t.row.endBlock-e.currentBlock>=900?((0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(De,{size:"xs",name:"img:tokens/USDC.png"})])):(0,n.kq)("",!0),(0,n._)("div",h,(0,l.zw)(e.$n(t.row.price)),1)]),(0,n.Wm)(Fe,{anchor:"center start",self:"center end"},{default:(0,n.w5)((()=>[(0,n.Wm)(De,{name:"mdi-gavel"}),b])),_:1})])),_:2},1032,["onClick"])]),(0,n._)("div",null,[(0,n.Wm)(Ee,{align:"left",size:"xs",flat:"",dense:"",onClick:a=>e.bidClicked(t.row.auctionId),style:{"padding-left":"0px"}},{default:(0,n.w5)((()=>[(0,n._)("div",y,[(0,n._)("div",_,[(0,n.Wm)(De,{size:"xs",name:"img:tokens/USDC.png"})]),(0,n._)("div",x,(0,l.zw)(e.$n(t.row.buyoutPrice)),1)]),(0,n.Wm)(Fe,{anchor:"center start",self:"center end"},{default:(0,n.w5)((()=>[(0,n.Wm)(De,{name:"mdi-gavel"}),k])),_:1})])),_:2},1032,["onClick"])])])])])),_:2},1024)])),"body-cell-level":(0,n.w5)((e=>[(0,n.Wm)(Ze,{class:"top-border"},{default:(0,n.w5)((()=>[(0,n._)("div",A,(0,l.zw)(parseInt(4*e.row.level+10)),1)])),_:2},1024)])),"body-cell-scale":(0,n.w5)((e=>[(0,n.Wm)(Ze,{class:"top-border"},{default:(0,n.w5)((()=>[(0,n._)("div",q,(0,l.zw)(parseInt(100*e.row.scale)),1)])),_:2},1024)])),"body-cell-quality":(0,n.w5)((e=>[(0,n.Wm)(Ze,{class:"top-border"},{default:(0,n.w5)((()=>[(0,n._)("div",W,(0,l.zw)(e.row.quality),1)])),_:2},1024)])),_:1},8,["rows","columns"])])),_:1}),(0,n.Wm)(Ue,{name:"browseEquipment"},{default:(0,n.w5)((()=>[C,I,B])),_:1}),(0,n.Wm)(Ue,{name:"browseAvatars"},{default:(0,n.w5)((()=>[z,U,S,P])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(Ue,{name:"bids"},{default:(0,n.w5)((()=>[H,Z,D])),_:1}),(0,n.Wm)(Ue,{name:"auctions",class:"min-width-320 q-pa-none"},{default:(0,n.w5)((()=>[void 0==e.userListing[0]?((0,n.wg)(),(0,n.iD)("div",N," No Auctions ")):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(e.userListing,(t=>((0,n.wg)(),(0,n.j4)(je,{class:"q-pa-none",style:{"max-width":"600px"},key:t},{default:(0,n.w5)((()=>[e.userAuctions[t]?((0,n.wg)(),(0,n.j4)(Re,{key:0,class:"q-pl-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ge,{avatar:""},{default:(0,n.w5)((()=>[(0,n._)("div",{onClick:a=>e.bidClicked(t,!0)},[(0,n.Wm)(He,{nft:e.userAuctions[t].nft,level:e.userAuctions[t].level,color:e.userAuctions[t].color,quality:e.userAuctions[t].quality,scale:e.userAuctions[t].scale,size:50,names:!0,namesFixed:!0},null,8,["nft","level","color","quality","scale"])],8,Q)])),_:2},1024),(0,n.Wm)(Ge,{class:"q-pr-none text-right justify-end"},{default:(0,n.w5)((()=>[(0,n.Wm)($e,{lines:"1"},{default:(0,n.w5)((()=>[(0,n._)("span",E,(0,l.zw)(e.$n(e.userAuctions[t].price)),1),(0,n.Wm)(De,{size:"xs",name:"img:tokens/USDC.png"})])),_:2},1024),(0,n.Wm)($e,{caption:"",lines:"2"},{default:(0,n.w5)((()=>[F,(0,n._)("span",T,(0,l.zw)(e.userAuctions[t].bids),1),(0,n.Wm)(De,{size:"xs",name:"las la-gavel"})])),_:2},1024)])),_:2},1024),(0,n.Wm)(Ge,{side:""},{default:(0,n.w5)((()=>[(0,n._)("div",V,[e.userAuctions[t].endBlock<e.currentBlock&&!e.userAuctions[t].end?((0,n.wg)(),(0,n.j4)(Ee,{key:0,size:"12px",color:"primary",glossy:"",dense:"","icon-right":"las la-coins","no-caps":"",onClick:a=>e.fulfillAuctionTx(t)},{default:(0,n.w5)((()=>[G])),_:2},1032,["onClick"])):(0,n.kq)("",!0),0==e.userAuctions[t].bids?((0,n.wg)(),(0,n.j4)(Ee,{key:1,size:"12px",flat:"",dense:"","icon-right":"delete","no-caps":"",onClick:a=>e.cancelAuctionTx(t)},{default:(0,n.w5)((()=>[$])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])])),_:2},1024)])),_:2},1024)):(0,n.kq)("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n._)("a",R," Block Number: "+(0,l.zw)(e.currentBlock),1)]),(0,n.Wm)(Oe),(0,n.Wm)(Xe,{modelValue:e.switchNet,"onUpdate:modelValue":t[5]||(t[5]=t=>e.switchNet=t),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Le,{class:"bg-glass"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ke,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Je,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),j,(0,n.Wm)(Ye),(0,n.wy)((0,n.Wm)(Ee,{icon:"close",flat:"",round:"",dense:""},null,512),[[it]])])),_:1}),(0,n.Wm)(Ke,{class:"row items-center"},{default:(0,n.w5)((()=>[L])),_:1}),(0,n.Wm)(Me,{align:"right"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(Ee,{class:"full-width",label:"Switch",color:"primary",onClick:t[4]||(t[4]=t=>e.switchNetwork(e.netIndex))},null,512),[[it]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(Xe,{modelValue:e.bidGemDetail,"onUpdate:modelValue":t[10]||(t[10]=t=>e.bidGemDetail=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(Le,{dark:"",class:"bg-glass min-width-320"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ke,{class:"q-pb-none row"},{default:(0,n.w5)((()=>[(0,n._)("div",O,[(0,n.Wm)(He,{nft:e.currentAuction.nft,level:e.currentAuction.level,color:e.currentAuction.color,quality:e.currentAuction.quality,scale:e.currentAuction.scale,size:50},null,8,["nft","level","color","quality","scale"]),e.currentAuction.nft>0?((0,n.wg)(),(0,n.iD)("div",J," # "+(0,l.zw)(e.currentAuction.nft),1)):(0,n.kq)("",!0)]),(0,n._)("div",Y,[(0,n._)("div",{class:(0,l.C_)(e.getRarity(e.currentAuction.level).rarity+" text-h6")},(0,l.zw)(e.$t("gems.levels."+e.currentAuction.level)+e.$t("gems.names."+e.currentAuction.color)),3),(0,n._)("div",{class:(0,l.C_)(e.getRarity(e.currentAuction.level).rarity)},[(0,n.Uk)((0,l.zw)(e.$t("gems."+e.getRarity(e.currentAuction.level).rarity)+" "+e.$t("gems.gem"))+" ",1),(0,n.Wm)(et,{dense:""},{default:(0,n.w5)((()=>[(0,n._)("a",{class:(0,l.C_)(e.getRarity(e.currentAuction.level).rarity)},(0,l.zw)(e.getRarity(e.currentAuction.level).short),3)])),_:1})],2),(0,n._)("div",K,[(0,n._)("div",M,(0,l.zw)(e.$t("gems.level")+":")+" "+(0,l.zw)(4*parseInt(e.currentAuction.level)+10),1),(0,n._)("div",X,(0,l.zw)(e.$t("gems.weight")+":")+" "+(0,l.zw)(parseInt(100*e.currentAuction.scale)),1),(0,n._)("div",ee,(0,l.zw)(e.$t("gems.quality")+":")+" "+(0,l.zw)(e.currentAuction.quality),1)]),(0,n._)("div",te,(0,l.zw)(e.$t("gems.qualityInfo")),1)])])),_:1}),(0,n.Wm)(Ke,{class:"row q-py-none justify-between"},{default:(0,n.w5)((()=>[(0,n._)("a",{href:e.linkAddress(e.currentAuction.owner),target:"_blank",class:"text-grey-6"},[(0,n.Uk)((0,l.zw)(e.$t("auction.owner")+":")+" ",1),(0,n._)("span",null,(0,l.zw)(e.shortAddress(e.currentAuction.owner,6,!0)),1)],8,ae),"0x0000000000000000000000000000000000000000"!=e.currentAuction.bidder?((0,n.wg)(),(0,n.iD)("div",ne,[(0,n._)("a",{href:e.linkAddress(e.currentAuction.bidder),target:"_blank",class:"text-grey-6"},[(0,n.Uk)((0,l.zw)(e.$t("auction.highestBidder")+":")+" ",1),(0,n._)("span",null,(0,l.zw)(e.shortAddress(e.currentAuction.bidder,6,!0)),1)],8,le)])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(Ke,{class:"q-py-xs"},{default:(0,n.w5)((()=>[(0,n.Wm)(tt,{filled:"",dense:"",readonly:"",color:"purple-12","input-class":"text-right"},{prepend:(0,n.w5)((()=>[(0,n._)("div",ie,(0,l.zw)(e.$t("auction.currentPrice")+":"),1)])),append:(0,n.w5)((()=>[((0,n.wg)(),(0,n.iD)("div",{class:"text-h6 q-pr-sm",onClick:t[6]||(t[6]=t=>e.setBid(e.currentAuction.price,.05)),key:e.currentAuction.price},(0,l.zw)(e.$n(e.currentAuction.price)),1)),(0,n.Wm)(Ee,{round:"",dense:"",flat:"",icon:"img:tokens/USDC.png"},{default:(0,n.w5)((()=>[(0,n.Wm)(Qe,{anchor:"center end",self:"center start"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ne,null,{avatar:(0,n.w5)((()=>[(0,n.Wm)(De,{size:"md",name:"img:tokens/USDC.png",color:"primary"})])),default:(0,n.w5)((()=>[se])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(tt,{filled:"",dense:"",readonly:"",color:"purple-12","input-class":"text-right",type:"number"},{prepend:(0,n.w5)((()=>[(0,n._)("div",oe,(0,l.zw)(e.$t("auction.buyoutPriceS")+":"),1)])),append:(0,n.w5)((()=>[(0,n._)("div",{class:"text-h6 q-pr-sm",onClick:t[7]||(t[7]=t=>e.setBid(e.currentAuction.buyoutPrice))},(0,l.zw)(e.$n(e.currentAuction.buyoutPrice)),1),(0,n.Wm)(Ee,{round:"",dense:"",flat:"",icon:"img:tokens/USDC.png"},{default:(0,n.w5)((()=>[(0,n.Wm)(Qe,{anchor:"center end",self:"center start"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ne,null,{avatar:(0,n.w5)((()=>[(0,n.Wm)(De,{size:"md",name:"img:tokens/USDC.png",color:"primary"})])),default:(0,n.w5)((()=>[re])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(tt,{filled:"",color:"purple-12","input-class":"text-right text-h6",type:"number",modelValue:e.bidGemPrice,"onUpdate:modelValue":t[8]||(t[8]=t=>e.bidGemPrice=t)},{prepend:(0,n.w5)((()=>[(0,n._)("div",ce,(0,l.zw)(e.$t("auction.bidPrice")+":"),1)])),append:(0,n.w5)((()=>[(0,n.Wm)(Ee,{round:"",dense:"",flat:"",icon:"img:tokens/USDC.png"},{default:(0,n.w5)((()=>[(0,n.Wm)(Qe,{anchor:"center end",self:"center start"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ne,null,{avatar:(0,n.w5)((()=>[(0,n.Wm)(De,{size:"md",name:"img:tokens/USDC.png",color:"primary"})])),default:(0,n.w5)((()=>[ue])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(Ee,{unelevated:"",color:"primary",class:"full-width","no-caps":"",onClick:t[9]||(t[9]=t=>e.bidSubmit())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("auction.submit")),1)])),_:1}),de])),_:1}),(0,n.Wm)(Ke,null,{default:(0,n.w5)((()=>[e.bidGemBids[0]?((0,n.wg)(),(0,n.j4)(at,{key:0,visible:"",class:"full-width",style:{height:"96px"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.bidGemBids,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"q-gutter-md"},[(0,n._)("div",me,[(0,n._)("div",fe,[(0,n._)("div",pe,[(0,n._)("a",{class:"text-grey",href:"https://polygonscan.com/address/"+t.bidder,target:"_blank",rel:"noopener noreferrer"},[we,(0,n.Uk)(" "+(0,l.zw)(e.shortAddress(t.bidder,6,!0)),1)],8,ve)]),(0,n._)("div",ge,[(0,n._)("a",{class:"text-grey",href:"https://polygonscan.com/address/tx/"+t.txhash,target:"_blank",rel:"noopener noreferrer"},[be,(0,n.Uk)(" "+(0,l.zw)(e.shortAddress(t.txhash,4,!0)),1)],8,he)])]),(0,n._)("div",ye,[_e,(0,n._)("div",xe,(0,l.zw)(e.$n(t.price)),1),(0,n.Wm)(De,{size:"sm",name:"img:tokens/USDC.png"})])])])))),128))])),_:1})):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(Xe,{modelValue:e.addAllowance,"onUpdate:modelValue":t[12]||(t[12]=t=>e.addAllowance=t),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Le,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Ke,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Je,{color:"primary","text-color":"white",size:"md"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:"tokens/usdc.png"},null,8,ke)])),_:1}),Ae,(0,n.Wm)(Ye),(0,n.wy)((0,n.Wm)(Ee,{icon:"close",flat:"",round:"",dense:""},null,512),[[it]])])),_:1}),(0,n.Wm)(Ke,{class:"row items-center"},{default:(0,n.w5)((()=>[(0,n._)("span",qe,(0,l.zw)(e.$t("allowanceInfo")),1)])),_:1}),(0,n.Wm)(Me,{align:"right"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(Ee,{class:"full-width",label:e.$t("increase"),color:"primary",onClick:t[11]||(t[11]=t=>e.approveToken())},null,8,["label"]),[[it]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(nt,{modelValue:"usdc"})])),_:1})}var Ce=a(60499),Ie=a(19302),Be=a(65457),ze=a(28488),Ue=a(9229),Se=a(48036),Pe=a(68090),He=a(85990),Ze=a(17779),De=function(e,t,a,n){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function s(e){try{r(n.next(e))}catch(t){i(t)}}function o(e){try{r(n["throw"](e))}catch(t){i(t)}}function r(e){e.done?a(e.value):l(e.value).then(s,o)}r((n=n.apply(e,t||[])).next())}))};const Ne=a(89003),Qe=a(53310),Ee=[{name:"nft",label:"itemName",field:"endBlock",align:"left",sortable:!0,headerStyle:"text-align: center;"},{name:"price",label:"price",field:"price",align:"left",sortable:!0},{name:"level",label:"level",field:"level",align:"left",sortable:!0},{name:"scale",label:"weight",field:"scale",align:"left",sortable:!0},{name:"quality",label:"quality",field:"quality",align:"left",sortable:!0}];function Fe(e){Ze.log("Switch network: ",(0,He.v)().networks[e].name,(0,He.v)().networks[e].id),(0,He.v)().initWeb3(e)}const Te={title:"Crystal - Auction"},Ve=(0,n.aZ)({name:"AuctionPage",components:{NftMenu:Ue.Z,CrystalGem:Se.Z,BalanceView:Pe.Z},setup(){const e=(0,Ie.Z)();e.dark.set(!0),(0,Be.Z)(Te);const t=(0,Ce.iH)(!1),a=(0,Ce.iH)(0),l=(0,Ce.iH)("0xAa5c10B4a0e610B8607BCae5aaE454a4657400A6"),i=(0,Ce.iH)("0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"),s=(0,Ce.iH)(!1),o=(0,Ce.iH)(0),r=(0,Ce.iH)({}),c=(0,Ce.iH)({}),u=(0,Ce.iH)([]),d=(0,Ce.iH)("0"),m=(0,Ce.iH)([]),f=(0,Ce.iH)(!1),p=(0,Ce.iH)(0);let v=(0,n.Fl)((()=>r.value[d.value])),w=(0,n.Fl)((()=>{let e=[];for(var t in r.value)r.value.hasOwnProperty(t)&&!r.value[t].end&&r.value[t].endBlock>o.value&&e.unshift(r.value[t]);return e})),g=(0,n.Fl)((()=>{let e=[];for(var t in c.value)r.value.hasOwnProperty(t)&&e.unshift(r.value[t]);return e})),h=[];function b(){Ze.log("listeners:",h),h&&h.length>0&&h.forEach((e=>{e&&(e.unsubscribe(),Ze.log("unsubscribe:",e))}))}function y(){return De(this,void 0,void 0,(function*(){const e=yield(0,He.v)().web3.eth.net.getId().then((e=>(Ze.log(e),e))).catch((e=>(Ze.log("checkNetwork: ",e),-1)));return e}))}function _(e){return De(this,void 0,void 0,(function*(){const t=(0,He.v)().networks[e].id,a=(0,He.v)().networks[e].name,n=(0,He.v)().networks[e].tokenName,l=(0,He.v)().networks[e].symbol,i=(0,He.v)().networks[e].rpcUrl,s=(0,He.v)().networks[e].explorer,o="0x"+t.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:o}]}),location.reload()}catch(r){if(Ze.log(r),4902===r.code){Ze.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:o,chainName:a,nativeCurrency:{name:n,symbol:l,decimals:18},rpcUrls:[i],blockExplorerUrls:[s]}]}),location.reload()}catch(c){alert(c.message)}}else alert(r.message)}}))}function x(e,t=!1){return De(this,void 0,void 0,(function*(){d.value=e,N(e,t).then((()=>{f.value=!0,k(r.value[e].price,.05),H(e,t)}))}))}function k(e,t=0){let a=0;t>0&&(a=e*t,a<1&&(a=1)),p.value=parseFloat((e+a).toFixed(6))}function A(){if(void 0!=d.value){let e=d.value,t=!1;if(p.value<r.value[e].price+1&&(p.value=parseFloat((r.value[e].price+1.0000001).toFixed(6)),t=!0),p.value<1.05*r.value[e].price&&(p.value=parseFloat((1.05*r.value[e].price+1e-7).toFixed(6)),t=!0),t)return;let a=parseFloat(p.value.toString()).toFixed(6).replace(".","");E(e,a)}}function q(e){const t=JSON.parse(e),a=(0,He.v)().web3.utils.toHex(t.properties);let n=10,l=10;for(let i=2;i<14;i++){const e=parseInt(a[i],16);i<8?n+=e:i<14&&(l+=e)}return{level:t.level,color:t.color,quality:n,scale:l/100}}function W(e,t=!1){var a;if(e.removed)return;const n=(0,He.v)().web3Instance,l=e.returnValues,i=l.auctionId,s=l.price,o=n.utils.fromWei(s+"000000000000");r.value[i]?(parseFloat(o)>(null===(a=r.value[i])||void 0===a?void 0:a.price)&&(r.value[i].price=parseFloat(o),r.value[i].bidder=l.user),t&&(r.value[i].end=!0)):Ze.log("No AH")}function C(e,t=!1){var a;if(e.removed)return;const n=(0,He.v)().web3Instance,l=e.returnValues,i=l.auctionId,s=l.price,o=n.utils.fromWei(s+"000000000000");c.value[i]?(parseFloat(o)>(null===(a=c.value[i])||void 0===a?void 0:a.price)&&(c.value[i].price=parseFloat(o),c.value[i].bidder=l.user),t&&(c.value[i].end=!0),N(i,!0)):Ze.log("No AH")}function I(e,t=!1){var a,n;if(e.removed)return;const l=(0,He.v)().web3Instance,i=e.returnValues,s=i.auctionId,o=i.uri,u=q(o),d=l.utils.fromWei(i.startingPrice+"000000000000"),m=l.utils.fromWei(i.buyoutPrice+"000000000000");let f={owner:i.owner,bidder:"",auctionId:parseInt(s),nft:parseInt(i.nft),startingPrice:parseFloat(d),buyoutPrice:parseFloat(m),price:parseFloat(d),bids:0,startBlock:parseInt(e.blockNumber),endBlock:parseInt(e.blockNumber)+76800,end:!1,uri:o,level:u.level,color:u.color,quality:u.quality,scale:u.scale};t?c.value[s]=f:(void 0==r.value[s]||!(null===(a=r.value[s])||void 0===a?void 0:a.end)&&(null===(n=r.value[s])||void 0===n?void 0:n.price)<f.price)&&(r.value[s]=f)}function B(e,t){let a=[];e.forEach((e=>{if(!e.removed){const t=(0,He.v)().web3Instance,n=e.returnValues,l=n.auctionId,i=t.utils.fromWei(n.price+"000000000000");let s={txhash:e.transactionHash,bidder:n.user,nft:n.nft,auctionId:l,price:parseFloat(i)};a.unshift(s)}})),t==d.value&&(m.value=a)}function z(){return De(this,void 0,void 0,(function*(){const e=(0,He.v)().web3Instance,t=new e.eth.Contract(Ne,l.value);e.eth.getBlockNumber().then((function(e){return De(this,void 0,void 0,(function*(){o.value=e;let a=e-1e5;const n={fromBlock:a};yield t.getPastEvents("FulfillAuction",n).then((function(e){e.forEach((e=>{W(e,!0)}))})).catch((e=>{Ze.error("allAuctionFulfill Error:",e)}))}))}))}))}function U(){return De(this,void 0,void 0,(function*(){const e=(0,He.v)().web3Instance,t=new e.eth.Contract(Ne,l.value);e.eth.getBlockNumber().then((function(e){return De(this,void 0,void 0,(function*(){o.value=e;let a=e-1e5;const n={fromBlock:a};yield t.getPastEvents("Bid",n).then((function(e){e.forEach((e=>{W(e)}))})).catch((e=>{Ze.error("allAuctionBid Error:",e)}))}))}))}))}function S(){return De(this,void 0,void 0,(function*(){const e=(0,He.v)().web3Instance,t=(0,He.v)().account;if(!e.utils.isAddress(t))return void Ze.log("Not Address:",t);const a=new e.eth.Contract(Ne,l.value),n={filter:{owner:t},fromBlock:29685023};yield a.getPastEvents("FulfillAuction",n).then((function(e){e.forEach((e=>{C(e,!0)}))})).catch((e=>{Ze.error("userAuctionFulfill Error:",e)}))}))}function P(){return De(this,void 0,void 0,(function*(){const e=(0,He.v)().web3Instance,t=(0,He.v)().account;if(!e.utils.isAddress(t))return void Ze.log("Not Address:",t);const a=new e.eth.Contract(Ne,l.value),n={filter:{owner:t},fromBlock:29685023};yield a.getPastEvents("Bid",n).then((function(e){e.forEach((e=>{C(e)}))})).catch((e=>{Ze.error("userAuctionBid Error:",e)}))}))}function H(e,t=!1){return De(this,void 0,void 0,(function*(){const a=(0,He.v)().web3Instance,n=new a.eth.Contract(Ne,l.value);let i=29703714;const s={filter:{auctionId:e},fromBlock:i};yield n.getPastEvents("Bid",s).then((function(a){Ze.log("getBidById Bid events",a),B(a,e),a.forEach((e=>{W(e),t&&C(e)}))})).catch((e=>{Ze.error("getBidById Error:",e)}))}))}function Z(){return De(this,void 0,void 0,(function*(){const e=(0,He.v)().web3Instance,t=new e.eth.Contract(Ne,l.value);e.eth.getBlockNumber().then((function(e){return De(this,void 0,void 0,(function*(){o.value=e;let a=e-1e5;const n={fromBlock:a};yield t.getPastEvents("CreateAuction",n).then((function(e){e.forEach((e=>{I(e)}))})).catch((e=>{Ze.error("allAuctionCreated Error:",e)}))}))}))}))}function D(){return De(this,void 0,void 0,(function*(){const e=(0,He.v)().web3Instance,t=(0,He.v)().account;if(!e.utils.isAddress(t))return void Ze.log("Not Address:",t);const a=new e.eth.Contract(Ne,l.value),n={filter:{owner:t},fromBlock:29685023};yield a.getPastEvents("CreateAuction",n).then((function(e){e.forEach((e=>{I(e,!0)}))})).catch((e=>{Ze.error("userAuctionCreated Error:",e)}))}))}function N(e,t=!1){return De(this,void 0,void 0,(function*(){const a=(0,He.v)().web3Instance,n=new a.eth.Contract(Ne,l.value);n.methods.auctionDetail(e).call().then((function(n){const l=e,i=n.uri,s=q(i),o=a.utils.fromWei(n.startingPrice+"000000000000"),u=a.utils.fromWei(n.buyoutPrice+"000000000000"),d=a.utils.fromWei(n.price+"000000000000");let m={owner:n.owner,bidder:n.bidder,auctionId:parseInt(e),nft:parseInt(n.nft),startingPrice:parseFloat(o),buyoutPrice:parseFloat(u),price:parseFloat(d),bids:n.bids,startBlock:parseInt(n.startBlock),endBlock:parseInt(n.endBlock),end:n.end,uri:n.uri,level:s.level,color:s.color,quality:s.quality,scale:s.scale};r.value[l]=m,t&&(c.value[l]=m);const f=(0,He.v)().account;f.toUpperCase()==n.owner.toUpperCase()&&(c.value[l]=m)})).catch((function(e){Ze.log("getAhById: ",e)}))}))}function Q(){return De(this,void 0,void 0,(function*(){const e=(0,He.v)().web3Instance,t=new e.eth.Contract(Ne,l.value),a=(0,He.v)().account;e.utils.isAddress(a)?t.methods.userListing(a).call().then((function(e){Ze.log("getUserListing: ",e),u.value=e})).catch((function(e){Ze.log("getUserListing: ",e)})):Ze.log("Not Address:",a)}))}function E(e,t){return De(this,void 0,void 0,(function*(){if(!(0,He.v)().web3.utils.isAddress((0,He.v)().account))return void alert("Need Connect Wallet!");const a=(0,He.v)().web3,n=l.value,i=(0,He.v)().account;if(!a.utils.isAddress(i))return void alert("Account is not valid address!");const o=new a.eth.Contract(Ne,n);let r=o.methods.bidAuction(e,t),c=r.encodeABI();a.eth.estimateGas({from:i,to:n,value:0,data:c}).then((function(t){Ze.log("gasAmount: ",t),a.eth.sendTransaction({from:i,to:n,value:0,gas:parseInt((1.05*t).toString()),gasPrice:36e9,data:c}).on("transactionHash",(e=>{Ze.log("transactionHash: ",e)})).on("receipt",(t=>{t&&(H(e),N(e))})).on("error",(e=>{Ze.log("tx bidAuctionTx",e)}))})).catch((function(e){Ze.log("estimateGas: ",e);let t=e.message.toString();if(t.includes("exceeds")&&t.includes("allowance"))s.value=!0;else{let e=t.substring(t.indexOf("{"),t.lastIndexOf("}")+1);if(e){let t=JSON.parse(e);alert(t.message)}else alert(t)}}))}))}function F(e){return De(this,void 0,void 0,(function*(){if(!(0,He.v)().web3.utils.isAddress((0,He.v)().account))return void alert("Need Connect Wallet!");const t=(0,He.v)().web3,a=l.value,n=(0,He.v)().account;if(!t.utils.isAddress(n))return void alert("Account is not valid address!");const i=new t.eth.Contract(Ne,a);let o=i.methods.cancelAuction(e),r=o.encodeABI();t.eth.estimateGas({from:n,to:a,value:0,data:r}).then((function(l){Ze.log("gasAmount: ",l),t.eth.sendTransaction({from:n,to:a,value:0,gas:parseInt((1.05*l).toString()),gasPrice:36e9,data:r}).on("transactionHash",(e=>{Ze.log("transactionHash: ",e)})).on("receipt",(t=>{t&&(Q(),H(e,!0),N(e,!0))})).on("error",(e=>{Ze.log("tx cancelAuctionTx",e)}))})).catch((function(e){Ze.log("estimateGas: ",e);let t=e.message.toString();if(t.includes("exceeds")&&t.includes("allowance"))s.value=!0;else{let e=t.substring(t.indexOf("{"),t.lastIndexOf("}")+1);if(e){let t=JSON.parse(e);alert(t.message)}else alert(t)}}))}))}function T(e){return De(this,void 0,void 0,(function*(){if(!(0,He.v)().web3.utils.isAddress((0,He.v)().account))return void alert("Need Connect Wallet!");const t=(0,He.v)().web3,a=l.value,n=(0,He.v)().account;if(!t.utils.isAddress(n))return void alert("Account is not valid address!");const i=new t.eth.Contract(Ne,a);let o=i.methods.fulfillAuction(e),r=o.encodeABI();t.eth.estimateGas({from:n,to:a,value:0,data:r}).then((function(l){Ze.log("gasAmount: ",l),t.eth.sendTransaction({from:n,to:a,value:0,gas:parseInt((1.05*l).toString()),gasPrice:36e9,data:r}).on("transactionHash",(e=>{Ze.log("transactionHash: ",e)})).on("receipt",(t=>{t&&(Q(),H(e,!0),N(e,!0))})).on("error",(e=>{Ze.log("tx fulfillAuctionTx",e)}))})).catch((function(e){Ze.log("estimateGas: ",e);let t=e.message.toString();if(t.includes("exceeds")&&t.includes("allowance"))s.value=!0;else{let e=t.substring(t.indexOf("{"),t.lastIndexOf("}")+1);if(e){let t=JSON.parse(e);alert(t.message)}else alert(t)}}))}))}function V(){return De(this,void 0,void 0,(function*(){const e=i.value;Ze.log("approveToken");const t=(0,He.v)().web3,a="0xffffffffffffffffffffffffffffff",n=new t.eth.Contract(Qe,e);let s=n.methods.approve(l.value,a),o=s.encodeABI();t.eth.estimateGas({from:(0,He.v)().account,to:e,value:0,data:o}).then((function(a){Ze.log("gasAmount: ",a),t.eth.sendTransaction({from:(0,He.v)().account,to:e,value:0,gas:parseInt((1.05*a).toString()),gasPrice:36e9,data:o}).on("transactionHash",(e=>{Ze.log("transactionHash: ",e)})).on("receipt",(e=>{Ze.log("receipt: ",e)})).on("error",(e=>{Ze.log("tx increaseAllowance ",e)}))})).catch((function(e){alert(e)}))}))}return{currentBlock:o,addAllowance:s,gemColumns:Ee,tab:(0,Ce.iH)("browse"),browseTab:(0,Ce.iH)("browseGems"),allAuctions:r,userAuctions:c,userListing:u,currentAuction:v,allAH:w,userAH:g,bidGem:d,bidGemBids:m,bidGemDetail:f,bidGemPrice:p,netIndex:a,ahContract:l,switchNet:t,bidAuctionTx:E,cancelAuctionTx:F,fulfillAuctionTx:T,approveToken:V,bidSubmit:A,removeListeners:b,getBidById:H,getUserListing:Q,allAuctionFulfill:z,allAuctionBid:U,userAuctionFulfill:S,userAuctionBid:P,allAuctionCreated:Z,userAuctionCreated:D,getAhById:N,checkNetwork:y,switchNetwork:_,bidClicked:x,setBid:k,shortAddress:ze.sC,copyAddress:ze.c4,linkAddress:ze.ol,getRarity(e){let t="Common",a="C";switch(e){case 4:case 5:case 6:case 7:a="UC";break;case 8:case 9:a="R";break;case 10:a="RR";break;case 11:a="RRR";break;case 12:a="SR";break;case 13:a="HR";break;case 14:a="UR";break;case 15:a="SSR";break;default:break}switch(e){case 4:case 5:case 6:case 7:t="Uncommon";break;case 8:case 9:case 10:case 11:t="Rare";break;case 12:case 13:case 14:case 15:t="Epic";break;default:break}return{rarity:t,short:a}},initGame(){return De(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),n=e.get("ref");Ze.log(n||"No Ref");const l=a.value;Fe(l);const i=yield y();if(i!=(0,He.v)().networks[l].id)return Ze.log(i,"!=",(0,He.v)().networks[l].id),void(t.value=!0);Q(),Z().then((()=>{U(),z()})),D().then((()=>{P(),S()}))}))},initDate(){localStorage.getItem("allAuctions")&&Object.assign(r.value,JSON.parse(localStorage.getItem("allAuctions")||""))},storeData(){localStorage.setItem("allAuctions",JSON.stringify(r.value))}}},beforeMount(){this.initDate(),this.initGame()},beforeUnmount(){this.removeListeners(),this.storeData()}});var Ge=a(11639),$e=a(69885),Re=a(44458),je=a(47817),Le=a(57661),Oe=a(50926),Je=a(89800),Ye=a(84106),Ke=a(8858),Me=a(31233),Xe=a(21682),et=a(67220),tt=a(68879),at=a(22857),nt=a(52765),lt=a(47128),it=a(46858),st=a(13246),ot=a(490),rt=a(76749),ct=a(33115),ut=a(32074),dt=a(63190),mt=a(61357),ft=a(90136),pt=a(11821),vt=a(57691),wt=a(66611),gt=a(66663),ht=a(62146),bt=a(69984),yt=a.n(bt);const _t=(0,Ge.Z)(Ve,[["render",We],["__scopeId","data-v-6ac1790c"]]),xt=_t;yt()(Ve,"components",{QPage:$e.Z,QCard:Re.Z,QTabs:je.Z,QTab:Le.Z,QSeparator:Oe.Z,QTabPanels:Je.Z,QTabPanel:Ye.Z,QTable:Ke.Z,QTr:Me.Z,QTh:Xe.Z,QTd:et.Z,QBtn:tt.Z,QIcon:at.Z,QPopupProxy:nt.Z,QBanner:lt.Z,QTooltip:it.Z,QList:st.Z,QItem:ot.Z,QItemSection:rt.Z,QItemLabel:ct.Z,QDialog:ut.Z,QCardSection:dt.Z,QAvatar:mt.Z,QSpace:ft.Z,QCardActions:pt.Z,QChip:vt.Z,QInput:wt.Z,QScrollArea:gt.Z}),yt()(Ve,"directives",{ClosePopup:ht.Z})}}]);