"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[905],{19371:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ae});var n=a(59835),s=a(86970);const i=e=>((0,n.dD)("data-v-1488ac68"),e=e(),(0,n.Cn)(),e),l={class:"q-pa-md",style:{"max-width":"1439px"}},r=i((()=>(0,n._)("div",{class:"text-caption text-shadow"},[(0,n.Uk)(" This Round Airdrop is Over "),(0,n._)("br"),(0,n.Uk)(" You Can Redeem the NFT by gem points ")],-1))),o={class:"min-width-320 text-white text-h6 text-bold text-center text-shadow"},d=i((()=>(0,n._)("div",{class:"gem-glory-box"},[(0,n._)("div",{class:"gem-glory"})],-1))),c={class:"gem-box"},u={class:"q-gutter-sm"},m={class:"text-shadow self-center full-width no-outline text-center text-h6"},p={class:"text-shadow self-center full-width no-outline text-center"},f={class:"self-center full-width no-outline",tabindex:"0"},y={class:"text-center text-shadow"},v={key:0},g=i((()=>(0,n._)("span",{class:"text-h6 q-ml-sm"},"Transaction",-1))),w={class:"q-pa-xs"},h={key:0,class:"text-left"},b=i((()=>(0,n._)("a",null,[(0,n._)("span",{class:"cursor-pointer"}," Sign transaction with your wallet and we will never touch your private key! ")],-1))),x=[b],k={key:1,class:"text-left text-red"},_=["href"],I={class:"cursor-pointer"},q=i((()=>(0,n._)("a",null,[(0,n._)("span",{class:"cursor-pointer"}," Transaction is broadcasted, waiting for confirmation. ")],-1))),C={class:"row"},S=i((()=>(0,n._)("div",{class:"gem-frame row items-center justify-evenly col"},[(0,n._)("div",{class:"text-h3"},"?")],-1))),T={class:"gem-info",style:{"text-shadow":"#000 1px 0 10px"}},G={class:"text-h6 gem-name"},W={class:"gem-level"},R={class:"gem-scale"},H={class:"gem-quality"},D=i((()=>(0,n._)("br",null,null,-1))),A={class:"cursor-pointer"},N={class:"row result"},z={class:"gem-frame row items-center justify-evenly col"},Z={class:"gem-info",style:{"text-shadow":"#000 1px 0 10px"}},M={class:"row"},U={class:"gem-level q-pr-sm"},Q={class:"gem-scale q-pr-sm"},O={class:"gem-quality q-pr-sm"},$=i((()=>(0,n._)("div",{style:{height:"10px",width:"100%"}},null,-1))),P=i((()=>(0,n._)("span",{class:"text-subtitle2 text-secondary q-ml-sm"},"https://crystal.network",-1))),B=i((()=>(0,n._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),j=i((()=>(0,n._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function E(e,t,a,i,b,E){const F=(0,n.up)("q-btn"),V=(0,n.up)("q-icon"),J=(0,n.up)("q-field"),L=(0,n.up)("CrystalGem"),Y=(0,n.up)("q-badge"),K=((0,n.up)("q-input"),(0,n.up)("q-card-section")),X=(0,n.up)("q-card"),ee=(0,n.up)("q-tab-panel"),te=(0,n.up)("q-tab-panels"),ae=(0,n.up)("nft-menu"),ne=(0,n.up)("q-space"),se=(0,n.up)("q-step"),ie=(0,n.up)("q-linear-progress"),le=(0,n.up)("q-chip"),re=(0,n.up)("q-stepper"),oe=(0,n.up)("q-dialog"),de=(0,n.up)("q-avatar"),ce=(0,n.up)("q-card-actions"),ue=(0,n.up)("q-page"),me=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(ue,{class:"row items-center justify-evenly bg-pic",style:{"padding-top":"58px"}},{default:(0,n.w5)((()=>[(0,n._)("div",l,[r,(0,n.Wm)(te,{class:"bg-none",flat:"","model-value":"gacha",animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(ee,{name:"gacha",class:"q-pa-none row"},{default:(0,n.w5)((()=>[(0,n.Wm)(X,{class:"bg-glass",style:{"max-width":"340px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(K,{class:"row q-gutter-sm justify-evenly"},{default:(0,n.w5)((()=>[(0,n._)("div",o,(0,s.zw)(e.$t("airdrop.openGemChest")),1),d,(0,n._)("div",c,[(0,n.Wm)(F,{flat:"",class:"gem-in-box","text-color":"grey",label:"?"},{default:(0,n.w5)((()=>[(0,n._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine",onClick:t[0]||(t[0]=(...t)=>e.newSample&&e.newSample(...t))})])),_:1})]),(0,n._)("div",u,[(0,n.Wm)(J,{dense:"","stack-label":"",readonly:"",class:"min-width-320"},{control:(0,n.w5)((()=>[(0,n._)("div",m,[(0,n.Uk)((0,s.zw)(e.$n(parseInt(e.minerInfo.price.value)))+" ",1),(0,n.Wm)(V,{name:"las la-gem"})]),(0,n._)("div",p,(0,s.zw)(e.$t("airdrop.priceUnit")),1)])),_:1}),(0,n.Wm)(J,{outlined:"","stack-label":"",label:e.$t("airdrop.balance"),readonly:"",class:"min-width-320"},{control:(0,n.w5)((()=>[(0,n._)("div",f,(0,s.zw)(e.$t("airdrop.points")+":"),1)])),append:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.$n(parseInt(e.memberInfo.score)))+" ",1),(0,n.Wm)(F,{round:"",dense:"",flat:"",icon:"las la-gem",to:"games"})])),_:1},8,["label"]),(0,n._)("div",y,[(0,n.Wm)(F,{flat:"","no-caps":"",to:"/dice?game=0"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.$t("airdrop.invitAndGet")),1)])),_:1})]),(0,n.Wm)(F,{unelevated:"",color:"primary",class:"min-width-320","no-caps":"",onClick:t[1]||(t[1]=t=>e.redeemGem())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.$t("airdrop.redeem")),1)])),_:1}),e.redeemHistory?((0,n.wg)(),(0,n.j4)(J,{key:0,filled:"",readonly:"",class:"min-width-320"},{control:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.redeemHistory,((t,a,i)=>((0,n.wg)(),(0,n.iD)("div",{class:"gem-history row items-center justify-evenly",key:t},[i>Object.keys(e.redeemHistory).length-7?((0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)(L,{nft:t.nft,level:t.level,color:t.color,quality:t.quality,scale:t.scale,size:45,detail:!0},null,8,["nft","level","color","quality","scale"])])):(0,n.kq)("",!0),i==Object.keys(e.redeemHistory).length-1?((0,n.wg)(),(0,n.j4)(Y,{key:1,color:"red",floating:"",transparent:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.$t("airdrop.new")),1)])),_:1})):(0,n.kq)("",!0)])))),128))])),_:1})):(0,n.kq)("",!0)]),(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1})]),(0,n.Wm)(ae),(0,n.Wm)(oe,{modelValue:e.signTx,"onUpdate:modelValue":t[6]||(t[6]=t=>e.signTx=t),position:"top"},{default:(0,n.w5)((()=>[(0,n.Wm)(X,{style:{top:"50px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(K,{class:"q-pa-xs row items-center q-pb-none"},{default:(0,n.w5)((()=>[g,(0,n.Wm)(ne),(0,n.wy)((0,n.Wm)(F,{icon:"close",flat:"",round:"",dense:""},null,512),[[me]])])),_:1}),(0,n.Wm)(K,{class:"row items-center q-pa-xs"},{default:(0,n.w5)((()=>[(0,n._)("div",w,[(0,n.Wm)(re,{modelValue:e.txStep,"onUpdate:modelValue":t[5]||(t[5]=t=>e.txStep=t),vertical:"",color:"primary",flat:"",animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(se,{name:1,title:"Sign Transaction",icon:"las la-wallet",done:e.txStep>1,error:e.signTxErr.length>0},{default:(0,n.w5)((()=>[""==e.signTxErr?((0,n.wg)(),(0,n.iD)("div",h,x)):((0,n.wg)(),(0,n.iD)("div",k,(0,s.zw)(e.signTxErr),1))])),_:1},8,["done","error"]),(0,n.Wm)(se,{name:2,title:"Send Transaction",icon:"las la-receipt",done:e.txStep>2},{default:(0,n.w5)((()=>[(0,n._)("a",{href:e.linkAddress(e.signTxHash,e.netIndex,"tx"),target:"_blank",class:"text-grey-6"},[(0,n._)("span",I,(0,s.zw)(" tx hash: "+e.shortAddress(e.signTxHash,6,!1)),1)],8,_),q,(0,n.Wm)(ie,{dark:"",rounded:"",indeterminate:"",color:"secondary",class:"q-mt-sm"})])),_:1},8,["done"]),(0,n.Wm)(se,{name:3,title:"Waiting for Result",icon:"las la-hourglass-half",done:e.txStep>3},{default:(0,n.w5)((()=>[(0,n._)("div",C,[S,(0,n._)("div",T,[(0,n._)("div",G,(0,s.zw)(e.$t("gems.gem")+":")+" #"+(0,s.zw)(e.txGem),1),(0,n._)("div",W,(0,s.zw)(e.$t("gems.level")+":")+" ?? ",1),(0,n._)("div",R,(0,s.zw)(e.$t("gems.weight")+":")+" ?? ",1),(0,n._)("div",H,(0,s.zw)(e.$t("gems.quality")+":")+" ?? ",1)])]),(0,n.Wm)(ie,{dark:"",rounded:"",indeterminate:"",color:"secondary",class:"q-mt-sm"}),D,(0,n._)("a",null,[(0,n._)("span",A,(0,s.zw)(e.$t("airdrop.whenAppear")),1)])])),_:1},8,["done"]),(0,n.Wm)(se,{name:4,done:4==e.txStep,title:"Result",icon:"las la-trophy"},{default:(0,n.w5)((()=>[(0,n._)("div",N,[(0,n._)("div",z,[(0,n.Wm)(L,{nft:e.txGemDetail.nft,level:e.txGemDetail.level,color:e.txGemDetail.color,quality:e.txGemDetail.quality,scale:e.txGemDetail.scale,size:50},null,8,["nft","level","color","quality","scale"])]),(0,n._)("div",Z,[(0,n._)("div",{class:(0,s.C_)(e.getRarity(e.txGemDetail.level).rarity+" text-h6")},(0,s.zw)(e.$t("gems.levels."+e.txGemDetail.level)+e.$t("gems.names."+e.txGemDetail.color)),3),(0,n._)("div",{class:(0,s.C_)(e.getRarity(e.txGemDetail.level).rarity)},[(0,n.Uk)((0,s.zw)(e.$t("gems."+e.getRarity(e.txGemDetail.level).rarity)+" "+e.$t("gems.gem"))+" ",1),(0,n.Wm)(le,{dense:"",color:"black"},{default:(0,n.w5)((()=>[(0,n._)("a",{class:(0,s.C_)(e.getRarity(e.txGemDetail.level).rarity)},(0,s.zw)(e.getRarity(e.txGemDetail.level).short),3)])),_:1})],2),(0,n._)("div",M,[(0,n._)("div",U,(0,s.zw)(e.$t("gems.level")+": "+(4*parseInt(e.txGemDetail.level)+10)),1),(0,n._)("div",Q,(0,s.zw)(e.$t("gems.weight")+": "+parseInt(100*e.txGemDetail.scale)),1),(0,n._)("div",O,(0,s.zw)(e.$t("gems.quality")+": "+e.txGemDetail.quality),1)])]),$,(0,n.Wm)(F,{onClick:t[4]||(t[4]=t=>e.signTx=!1),color:"primary",label:"OK",class:"q-ml-sm full-width",dense:""})])])),_:1},8,["done"])])),_:1},8,["modelValue"])])])),_:1}),(0,n.Wm)(K,{class:"q-pa-xs row items-center q-pb-none"},{default:(0,n.w5)((()=>[P])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(oe,{modelValue:e.switchNet,"onUpdate:modelValue":t[8]||(t[8]=t=>e.switchNet=t),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(X,{class:"bg-glass"},{default:(0,n.w5)((()=>[(0,n.Wm)(K,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(de,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),B,(0,n.Wm)(ne),(0,n.wy)((0,n.Wm)(F,{icon:"close",flat:"",round:"",dense:""},null,512),[[me]])])),_:1}),(0,n.Wm)(K,{class:"row items-center"},{default:(0,n.w5)((()=>[j])),_:1}),(0,n.Wm)(ce,{align:"right"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(F,{class:"full-width",label:"Switch",color:"primary",onClick:t[7]||(t[7]=t=>e.switchNetwork(e.netIndex))},null,512),[[me]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var F=a(60499),V=a(19302),J=a(65457),L=a(7054),Y=a(67094),K=a(85990),X=a(28488),ee=a(17779),te=function(e,t,a,n){function s(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function l(e){try{o(n.next(e))}catch(t){i(t)}}function r(e){try{o(n["throw"](e))}catch(t){i(t)}}function o(e){e.done?a(e.value):s(e.value).then(l,r)}o((n=n.apply(e,t||[])).next())}))};const ae=a(94428),ne=a(29791),se=a(56987);function ie(e){ee.log("Switch network: ",(0,K.v)().networks[e].name,(0,K.v)().networks[e].id),(0,K.v)().initWeb3(e)}const le={title:"Crystal - Gem"},re=(0,n.aZ)({name:"NftClaimPage",components:{NftMenu:L.Z,CrystalGem:Y.Z},setup(){const e=(0,V.Z)();e.dark.set(!0),(0,J.Z)(le);const t=(0,F.iH)(15),a=(0,F.iH)(!1),s=(0,F.iH)(0),i="polygon",l=(0,F.iH)("0xf18a1FEf4823Ce5ddb20B71D82FA06470DF84B17"),r=(0,F.iH)("0x0B3cB6d89A29Df053E00dFD55B67B191f11eCE54"),o=(0,F.iH)("0x4D4bCa3dd8181D768426351b413A2B286A6F5607"),d=(0,F.iH)({bets:"0",score:"0",name:"0"}),c=(0,F.iH)({id:"0",airdropped:"0",referees:"0",redeemed:"0"}),u={price:(0,F.iH)("10000")},m=(0,F.iH)(.5),p=(0,F.iH)("1"),f=(0,F.iH)(!1),y=(0,F.iH)(""),v=(0,F.iH)(""),g=(0,F.iH)(1),w=(0,F.iH)(0),h=(0,F.iH)(),b=(0,F.iH)({}),x=(0,F.iH)([]);let k;function _(){return te(this,void 0,void 0,(function*(){const e=(0,K.v)().account,t=(0,K.v)().web3Instance;if(!t.utils.isAddress(e))return alert("Need Connect Wallet!"),void ee.log("Not Address:",e);ee.log("listenRedeem:",e);const a=new t.eth.Contract(se,o.value),n={filter:{user:e},fromBlock:28954784};k=a.events.GemSettled(n).on("data",(function(e){if(!e.removed){const t=e.returnValues,a=t.gemId,n={nft:parseInt(a),level:parseInt(t.level),color:parseInt(t.color),quality:D(t.uri).quality,scale:D(t.uri).scale,properties:"",text:""};b.value[a]=n,H(n,parseInt(a)),parseInt(a)==w.value&&(h.value=n,g.value=4)}})).on("changed",(function(e){ee.log("listenerRedeem changed:",e)})).on("error",(function(e){ee.log("listenerRedeem Err:",e)})).on("connected",(function(e){ee.log("listenerRedeem subscription id:",e)}))}))}function I(){return te(this,void 0,void 0,(function*(){const e=yield(0,K.v)().web3.eth.net.getId().then((e=>(ee.log(e),e))).catch((e=>(ee.log("checkNetwork: ",e),-1)));return e}))}function q(e){return te(this,void 0,void 0,(function*(){const t=(0,K.v)().networks[e].id,a=(0,K.v)().networks[e].name,n=(0,K.v)().networks[e].tokenName,s=(0,K.v)().networks[e].symbol,i=(0,K.v)().networks[e].rpcUrl,l=(0,K.v)().networks[e].explorer,r="0x"+t.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),location.reload()}catch(o){if(ee.log(o),4902===o.code){ee.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:a,nativeCurrency:{name:n,symbol:s,decimals:18},rpcUrls:[i],blockExplorerUrls:[l]}]}),location.reload()}catch(d){alert(d.message)}}else alert(o.message)}}))}function C(e){return te(this,void 0,void 0,(function*(){const t=(0,K.v)().web3Instance;if(t.utils.isAddress((0,K.v)().accountAddr)){const a=new t.eth.Contract(ae,e);a.methods.userDetail((0,K.v)().accountAddr).call().then((function(e){ee.log("getMemberInfo: ",e);const t={bets:e.bets,score:e.score,name:e.name};d.value=t,localStorage.setItem("memberInfo",JSON.stringify(d.value))})).catch((function(e){ee.log("getMemberInfo: ",e)}))}}))}function S(e){return te(this,void 0,void 0,(function*(){const t=(0,K.v)().web3Instance;if(t.utils.isAddress((0,K.v)().accountAddr)){const a=new t.eth.Contract(ne,e);a.methods.userDetail((0,K.v)().accountAddr).call().then((function(e){ee.log("getUserInfo: ",e);const t={id:e.id,referral:e.referral,airdropped:e.airdropped,referees:e.referees,redeemed:e.redeemed};c.value=t,localStorage.setItem("userInfo",JSON.stringify(c.value)),C(l.value)})).catch((function(e){ee.log("getUserInfo: ",e)}))}}))}function T(){return te(this,void 0,void 0,(function*(){if(parseInt(u.price.value)>parseInt(d.value.score))return void alert("Need More Gem Points!");if(!(0,K.v)().web3.utils.isAddress((0,K.v)().account))return void alert("Need Connect Wallet!");const e=s.value,t=yield I();if(t!=(0,K.v)().networks[e].id)return ee.log(t,"!=",(0,K.v)().networks[e].id),void(a.value=!0);y.value="",v.value="",g.value=1,f.value=!0;const n=(0,K.v)().web3,i=o.value,r=(0,K.v)().account,c=new n.eth.Contract(se,i);let m=c.methods.redeemGem(),p=m.encodeABI();n.eth.estimateGas({from:r,to:i,value:0,data:p}).then((function(e){ee.log("gasAmount: ",e),n.eth.sendTransaction({from:r,to:i,value:0,gas:parseInt((1.05*e).toString()),gasPrice:36e9,data:p}).on("transactionHash",(e=>{ee.log("transactionHash: ",e),g.value=2,v.value=e})).on("receipt",(e=>{const t=R(e.logs,i);ee.log("gemId:",t),w.value=t,g.value=3,C(l.value)})).on("error",(e=>{ee.log("tx redeemGem",e),y.value=e.message,g.value=1}))})).catch((function(e){ee.log("estimateGas: ",e);let t=e.message.toString(),a=t.split(".")[1],n=JSON.parse(a),s=n.message.split(":");y.value=s[0]+": "+s[1]}))}))}function G(e){return te(this,void 0,void 0,(function*(){if(ee.log("Referral ID:",e),!(0,K.v)().web3.utils.isAddress((0,K.v)().account))return void alert("Need Connect Wallet!");const t=s.value,n=yield I();if(n!=(0,K.v)().networks[t].id)return ee.log(n,"!=",(0,K.v)().networks[t].id),void(a.value=!0);y.value="",v.value="",g.value=1,f.value=!0;const i=(0,K.v)().web3,l=r.value,o=(0,K.v)().account,d=new i.eth.Contract(ne,l);let c=d.methods.claimAirdrop(i.utils.toHex(e)),u=c.encodeABI();i.eth.estimateGas({from:o,to:l,value:0,data:u}).then((function(e){ee.log("gasAmount: ",e),i.eth.sendTransaction({from:o,to:l,value:0,gas:parseInt((1.05*e).toString()),gasPrice:36e9,data:u}).on("transactionHash",(e=>{ee.log("transactionHash: ",e),g.value=2,v.value=e})).on("receipt",(e=>{const t=R(e.logs,l);ee.log("gemId:",t),w.value=t,g.value=3,S(r.value)})).on("error",(e=>{ee.log("tx claimAirdrop",e),y.value=e.message,g.value=1}))})).catch((function(e){ee.log("estimateGas: ",e);let t=e.message.toString(),a=t.split(".")[1],n=JSON.parse(a),s=n.message.split(":");y.value=s[0]+": "+s[1]}))}))}function W(){let e=parseInt(p.value).toString();p.value=e,G(e)}function R(e,t){var a="0";ee.log("receipt:",e);for(let n=0;n<e.length;n++){const s=e[n];if(s.address.toUpperCase()==t.toUpperCase()){ee.log(s),a=(0,K.v)().web3.eth.abi.decodeParameter("uint256",s.data).toString(),ee.log("Gem NFT Id: #",a);break}}return parseInt(a)}function H(e,t){let a=!1;for(let n=0;n<x.value.length;n++){const e=x.value[n];if(e.nft==t){a=!0;break}}a||(x.value.unshift(e),ee.log(e)),localStorage.setItem("userGems",JSON.stringify(x.value))}function D(e){const t=JSON.parse(e),a=(0,K.v)().web3.utils.toHex(t.properties);let n=10,s=10;for(let i=2;i<14;i++){const e=parseInt(a[i],16);i<8?n+=e:i<14&&(s+=e)}return{quality:n,scale:s/100}}function A(){k&&k.unsubscribe()}return{removeListeners:A,shortAddress:X.sC,copyAddress:X.c4,linkAddress:X.ol,uriToNum:D,addGem:H,userGems:x,signTx:f,signTxErr:y,signTxHash:v,txStep:g,txGem:w,txGemDetail:h,redeemHistory:b,listenerRedeem:k,listenRedeem:_,netIndex:s,chain:i,switchNet:a,memberContract:l,gemManContract:r,userInfo:c,memberInfo:d,minerInfo:u,refProgress:m,refProgressLabel:(0,n.Fl)((()=>(100*m.value).toFixed(2)+"%")),refCode:p,sampleGem:t,sampleStyle:(0,n.Fl)((()=>"transform: scale(1.0); height: 45px; width: 45px; background-blend-mode: hard-light; -webkit-mask-mode: alpha; mask-mode: alpha; background-image: url('"+t.value%16+"'), linear-gradient(#f0f0f0, #f0f0f0); -webkit-mask-image: url('"+t.value%16+"'); mask-image: url('"+t.value%16+"'); background-size: cover; -webkit-mask-size: 100%; mask-size: 100%;")),checkNetwork:I,switchNetwork:q,getMemberInfo:C,getUserInfo:S,dealRedeem:R,redeemGem:T,claimAirdrop:G,initGame(){return te(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),t=e.get("ref");t=parseInt(t||"1").toString(),ee.log("Referral code:",t||"No Ref"),t&&"NaN"!=t&&(localStorage.refCode=t),localStorage.refCode&&(p.value=localStorage.refCode);const n=s.value;ie(n);const i=yield I();if(i!=(0,K.v)().networks[n].id)return ee.log(i,"!=",(0,K.v)().networks[n].id),void(a.value=!0);C(l.value),_()}))},getRarity(e){let t="Common",a="C";switch(e){case 4:case 5:case 6:case 7:a="UC";break;case 8:case 9:a="R";break;case 10:a="RR";break;case 11:a="RRR";break;case 12:a="SR";break;case 13:a="HR";break;case 14:a="UR";break;case 15:a="SSR";break;default:break}switch(e){case 4:case 5:case 6:case 7:t="Uncommon";break;case 8:case 9:case 10:case 11:t="Rare";break;case 12:case 13:case 14:case 15:t="Epic";break;default:break}return{rarity:t,short:a}},claimClick:W,updateInputs(e){ee.log("updateInputs: ",e)},gemSelected(e){ee.log("Selected: ",e)},newSample(){t.value+=1},initDate(){localStorage.getItem("memberInfo")&&Object.assign(d.value,JSON.parse(localStorage.getItem("memberInfo")||"")),localStorage.getItem("userGems")&&(Object.assign(x.value,JSON.parse(localStorage.getItem("userGems")||"")),x.value.sort((function(e,t){return e.nft<t.nft?1:e.nft>t.nft?-1:0})))}}},beforeMount(){this.initDate(),this.initGame()},beforeUnmount(){this.removeListeners()}});var oe=a(11639),de=a(69885),ce=a(89800),ue=a(84106),me=a(44458),pe=a(63190),fe=a(68879),ye=a(18149),ve=a(22857),ge=a(20990),we=a(52765),he=a(47128),be=a(66611),xe=a(32074),ke=a(90136),_e=a(8225),Ie=a(46017),qe=a(21992),Ce=a(8289),Se=a(57691),Te=a(61357),Ge=a(11821),We=a(62146),Re=a(69984),He=a.n(Re);const De=(0,oe.Z)(re,[["render",E],["__scopeId","data-v-1488ac68"]]),Ae=De;He()(re,"components",{QPage:de.Z,QTabPanels:ce.Z,QTabPanel:ue.Z,QCard:me.Z,QCardSection:pe.Z,QBtn:fe.Z,QField:ye.Z,QIcon:ve.Z,QBadge:ge.Z,QPopupProxy:we.Z,QBanner:he.Z,QInput:be.Z,QDialog:xe.Z,QSpace:ke.Z,QStepper:_e.Z,QStep:Ie.Z,QStepperNavigation:qe.Z,QLinearProgress:Ce.Z,QChip:Se.Z,QAvatar:Te.Z,QCardActions:Ge.Z}),He()(re,"directives",{ClosePopup:We.Z})},56987:e=>{e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"gem","type":"address"},{"internalType":"address","name":"member","type":"address"},{"internalType":"address","name":"rand","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newCertified","type":"address"}],"name":"CertifiedAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"removedCertified","type":"address"}],"name":"CertifiedRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"gemId","type":"uint256"}],"name":"GemRedeemed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"gemId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"level","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"color","type":"uint256"},{"indexed":false,"internalType":"string","name":"uri","type":"string"}],"name":"GemSettled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"newCertified","type":"address"}],"name":"addCertified","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"certifieds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"isCertified","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"color","type":"uint256"}],"name":"redeemColorGem","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"redeemGem","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"redeemPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"certified","type":"address"}],"name":"removeCertified","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_contract","type":"address"}],"name":"setGem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_contract","type":"address"}],"name":"setMembership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_contract","type":"address"}],"name":"setRand","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"setRedeemPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"requestId","type":"bytes32"},{"internalType":"uint256","name":"randomness","type":"uint256"}],"name":"settleRand","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"toggleGameIsLive","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}}]);