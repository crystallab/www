"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[531],{96770:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Ue});var t=l(59835),i=l(86970);const s=e=>((0,t.dD)("data-v-91a3242c"),e=e(),(0,t.Cn)(),e),o={class:"q-pa-md",style:{"max-width":"1439px"}},n=s((()=>(0,t._)("div",{class:"text-h6"},"Under Construction",-1))),r=(0,t.Uk)(" Auction House is coming soon. These data are just samples. "),u={class:"my-table-details",style:{margin:"0px"}},c={class:"my-table-details text-left"},d={class:"text-h6"},m=(0,t.Uk)(" Auction is ending soon "),p=(0,t.Uk)(" Â  "),w={class:"my-table-details"},b={class:"my-table-details text-left"},f={class:"my-table-details text-left"},g=s((()=>(0,t._)("div",{class:"text-h4 q-mb-md"},"Alarms",-1))),h=s((()=>(0,t._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),v=s((()=>(0,t._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),y=s((()=>(0,t._)("div",{class:"text-h4 q-mb-md"},"Movies",-1))),_=s((()=>(0,t._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),q=s((()=>(0,t._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),k=s((()=>(0,t._)("p",null," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quis praesentium cumque magnam odio iure quidem, quod illum numquam possimus obcaecati commodi minima assumenda consectetur culpa fuga nulla ullam. In, libero. ",-1))),x=s((()=>(0,t._)("div",{class:"text-h6"},"Under Construction",-1))),W=(0,t.Uk)(" Auction House is coming soon. These data are just samples. "),C=s((()=>(0,t._)("div",{class:"text-h6"},"Under Construction",-1))),G=(0,t.Uk)(" Auction House is coming soon. These data are just samples. "),Z=s((()=>(0,t._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),Q=s((()=>(0,t._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1))),z={class:"gem-detail-box row items-center justify-evenly"},I={class:"info",style:{"text-shadow":"#000 1px 0 10px"}},U={class:"row"},P={class:"gem-level q-pr-sm"},V={class:"gem-scale q-pr-sm"},R={class:"gem-quality q-pr-sm"},B={class:"gem-quality text-caption text-grey",style:{"max-width":"200px"}},T=s((()=>(0,t._)("div",{class:"self-center full-width no-outline text-h6",tabindex:"0"},(0,i.zw)("Current:"),-1))),A={class:"text-h6"},H=s((()=>(0,t._)("div",{class:"self-center full-width no-outline text-h6",tabindex:"0"},(0,i.zw)("Buy Out:"),-1))),S={class:"text-h6"},$=s((()=>(0,t._)("div",{class:"self-center full-width no-outline text-h5",tabindex:"0"},(0,i.zw)("Your Bid:"),-1))),N=s((()=>(0,t._)("br",null,null,-1))),j=(0,t.Uk)(" Bid "),E=s((()=>(0,t._)("br",null,null,-1))),M=s((()=>(0,t._)("div",{class:"text-center full-width no-outline text-h5"}," Coming Soon ",-1)));function D(e,a,l,s,D,F){const L=(0,t.up)("q-tab"),O=(0,t.up)("q-tabs"),Y=(0,t.up)("q-separator"),K=(0,t.up)("q-tab-panel"),X=(0,t.up)("q-th"),J=(0,t.up)("q-tr"),ee=(0,t.up)("CrystalGem"),ae=(0,t.up)("q-btn"),le=(0,t.up)("q-td"),te=(0,t.up)("q-icon"),ie=(0,t.up)("q-banner"),se=(0,t.up)("q-popup-proxy"),oe=(0,t.up)("q-table"),ne=(0,t.up)("q-tab-panels"),re=(0,t.up)("q-card"),ue=(0,t.up)("nft-menu"),ce=(0,t.up)("q-avatar"),de=(0,t.up)("q-space"),me=(0,t.up)("q-card-section"),pe=(0,t.up)("q-card-actions"),we=(0,t.up)("q-dialog"),be=(0,t.up)("q-chip"),fe=(0,t.up)("q-input"),ge=(0,t.up)("q-page"),he=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(ge,{class:"row items-center justify-evenly bg-pic",style:{"padding-top":"58px"}},{default:(0,t.w5)((()=>[(0,t._)("div",o,[(0,t.Wm)(re,{class:""},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=a=>e.tab=a),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{name:"browse",label:"Browse"}),(0,t.Wm)(L,{name:"bids",label:"Bids"}),(0,t.Wm)(L,{name:"auctions",label:"Auctions"})])),_:1},8,["modelValue"]),(0,t.Wm)(Y),(0,t.Wm)(ne,{modelValue:e.tab,"onUpdate:modelValue":a[3]||(a[3]=a=>e.tab=a),animated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(K,{name:"overview"},{default:(0,t.w5)((()=>[n,r])),_:1}),(0,t.Wm)(K,{name:"browse",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{"narrow-indicator":"",modelValue:e.browseTab,"onUpdate:modelValue":a[1]||(a[1]=a=>e.browseTab=a),class:"text-teal"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{name:"browseGems",icon:"mdi-diamond-stone"}),(0,t.Wm)(L,{disable:"",name:"browseEquipment",icon:"mdi-sword"}),(0,t.Wm)(L,{disable:"",name:"browseAvatars",icon:"mdi-account-box-multiple"})])),_:1},8,["modelValue"]),(0,t.Wm)(ne,{modelValue:e.browseTab,"onUpdate:modelValue":a[2]||(a[2]=a=>e.browseTab=a),animated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(K,{name:"browseGems",class:"no-padding"},{default:(0,t.w5)((()=>[(0,t.Wm)(oe,{dense:"","virtual-scroll":"","rows-per-page-options":[25],class:"my-sticky-header-table bg-none",rows:e.sellingGems,columns:e.gemColumns,"row-key":"auctionId",style:{"text-shadow":"#000 1px 0 10px"}},{header:(0,t.w5)((a=>[(0,t.Wm)(J,{props:a},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.cols,(l=>((0,t.wg)(),(0,t.j4)(X,{key:l.name,props:a,class:"text-primary text-justify"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(""==l.label?"":e.$t("gems."+l.label)),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),"body-cell-nft":(0,t.w5)((a=>[(0,t.Wm)(le,{props:a},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t.Wm)(ae,{class:"full-width",align:"left",size:"sm",flat:"",dense:"",onClick:l=>e.bidClicked(a.row)},{default:(0,t.w5)((()=>[(0,t.Wm)(ee,{nft:a.row.nft,level:a.row.level,color:a.row.color,quality:a.row.quality,scale:a.row.scale,size:50,names:!0},null,8,["nft","level","color","quality","scale"])])),_:2},1032,["onClick"])])])),_:2},1032,["props"])])),"body-cell-price":(0,t.w5)((a=>[(0,t.Wm)(le,{props:a},{default:(0,t.w5)((()=>[(0,t._)("div",c,[(0,t._)("div",null,[(0,t.Wm)(ae,{class:"full-width",size:"md",align:"left",dense:"",flat:"",onClick:l=>e.bidClicked(a.row)},{default:(0,t.w5)((()=>[(0,t._)("div",d," $"+(0,i.zw)(e.$n(a.row.auction.startingPrice)),1),a.row.auction.endBlcok-e.currentBlock<900?((0,t.wg)(),(0,t.j4)(te,{key:0,right:"",name:"las la-stopwatch"})):(0,t.kq)("",!0),a.row.auction.endBlcok-e.currentBlock<900?((0,t.wg)(),(0,t.j4)(se,{key:1},{default:(0,t.w5)((()=>[(0,t.Wm)(ie,null,{avatar:(0,t.w5)((()=>[(0,t.Wm)(te,{name:"las la-stopwatch",color:"primary"})])),default:(0,t.w5)((()=>[m])),_:1})])),_:1})):(0,t.kq)("",!0)])),_:2},1032,["onClick"])]),(0,t._)("div",null,[(0,t.Wm)(ae,{class:"full-width",align:"left",size:"sm",flat:"",dense:"",onClick:l=>e.bidClicked(a.row)},{default:(0,t.w5)((()=>[(0,t._)("div",null,"$"+(0,i.zw)(e.$n(a.row.auction.buyOutPrice)),1),p,(0,t.Wm)(te,{right:"",name:"mdi-gavel"})])),_:2},1032,["onClick"])])])])),_:2},1032,["props"])])),"body-cell-scale":(0,t.w5)((e=>[(0,t.Wm)(le,{props:e},{default:(0,t.w5)((()=>[(0,t._)("div",w,(0,i.zw)(parseInt(100*e.row.scale)),1)])),_:2},1032,["props"])])),"body-cell-quality":(0,t.w5)((e=>[(0,t.Wm)(le,{props:e},{default:(0,t.w5)((()=>[(0,t._)("div",b,(0,i.zw)(e.row.quality),1)])),_:2},1032,["props"])])),"body-cell-level":(0,t.w5)((e=>[(0,t.Wm)(le,{props:e},{default:(0,t.w5)((()=>[(0,t._)("div",f,(0,i.zw)(parseInt(4*e.row.level+10)),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1}),(0,t.Wm)(K,{name:"browseEquipment"},{default:(0,t.w5)((()=>[g,h,v])),_:1}),(0,t.Wm)(K,{name:"browseAvatars"},{default:(0,t.w5)((()=>[y,_,q,k])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(K,{name:"bids"},{default:(0,t.w5)((()=>[x,W])),_:1}),(0,t.Wm)(K,{name:"auctions"},{default:(0,t.w5)((()=>[C,G])),_:1})])),_:1},8,["modelValue"])])),_:1})]),(0,t.Wm)(ue),(0,t.Wm)(we,{modelValue:e.switchNet,"onUpdate:modelValue":a[5]||(a[5]=a=>e.switchNet=a),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(re,{class:"bg-glass"},{default:(0,t.w5)((()=>[(0,t.Wm)(me,{class:"row items-center q-pb-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(ce,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),Z,(0,t.Wm)(de),(0,t.wy)((0,t.Wm)(ae,{icon:"close",flat:"",round:"",dense:""},null,512),[[he]])])),_:1}),(0,t.Wm)(me,{class:"row items-center"},{default:(0,t.w5)((()=>[Q])),_:1}),(0,t.Wm)(pe,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(ae,{class:"full-width",label:"Switch",color:"primary",onClick:a[4]||(a[4]=a=>e.switchNetwork(e.netIndex))},null,512),[[he]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(we,{modelValue:e.bidGemDetail,"onUpdate:modelValue":a[7]||(a[7]=a=>e.bidGemDetail=a)},{default:(0,t.w5)((()=>[(0,t.Wm)(re,{dark:"",class:"bg-glass min-width-320"},{default:(0,t.w5)((()=>[(0,t.Wm)(me,{class:"row"},{default:(0,t.w5)((()=>[(0,t._)("div",z,[(0,t.Wm)(ee,{nft:e.bidGem.nft,level:e.bidGem.level,color:e.bidGem.color,quality:e.bidGem.quality,scale:e.bidGem.scale,size:50},null,8,["nft","level","color","quality","scale"])]),(0,t._)("div",I,[(0,t._)("div",{class:(0,i.C_)(e.getRarity(e.bidGem.level).rarity+" text-h6")},(0,i.zw)(e.$t("gems.levels."+e.bidGem.level)+e.$t("gems.names."+e.bidGem.color)),3),(0,t._)("div",{class:(0,i.C_)(e.getRarity(e.bidGem.level).rarity)},[(0,t.Uk)((0,i.zw)(e.$t("gems."+e.getRarity(e.bidGem.level).rarity)+" "+e.$t("gems.gem"))+" ",1),(0,t.Wm)(be,{dense:""},{default:(0,t.w5)((()=>[(0,t._)("a",{class:(0,i.C_)(e.getRarity(e.bidGem.level).rarity)},(0,i.zw)(e.getRarity(e.bidGem.level).short),3)])),_:1})],2),(0,t._)("div",U,[(0,t._)("div",P,(0,i.zw)(e.$t("gems.level")+":")+" "+(0,i.zw)(4*parseInt(e.bidGem.level)+10),1),(0,t._)("div",V,(0,i.zw)(e.$t("gems.weight")+":")+" "+(0,i.zw)(parseInt(100*e.bidGem.scale)),1),(0,t._)("div",R,(0,i.zw)(e.$t("gems.quality")+":")+" "+(0,i.zw)(e.bidGem.quality),1)]),(0,t._)("div",B,(0,i.zw)(e.$t("gems.qualityInfo")),1)])])),_:1}),(0,t.Wm)(me,{class:"q-py-xs"},{default:(0,t.w5)((()=>[(0,t.Wm)(fe,{filled:"",dense:"",readonly:"",color:"purple-12","input-class":"text-right",type:"number"},{prepend:(0,t.w5)((()=>[T])),append:(0,t.w5)((()=>[(0,t._)("div",A,(0,i.zw)(e.$n(parseInt(e.bidGem.auction.startingPrice))),1),(0,t.Wm)(ae,{round:"",dense:"",flat:"",icon:"las la-dollar-sign"})])),_:1}),(0,t.Wm)(fe,{filled:"",dense:"",readonly:"",color:"purple-12","input-class":"text-right",type:"number"},{prepend:(0,t.w5)((()=>[H])),append:(0,t.w5)((()=>[(0,t._)("div",S,(0,i.zw)(e.$n(parseInt(e.bidGem.auction.buyOutPrice))),1),(0,t.Wm)(ae,{round:"",dense:"",flat:"",icon:"las la-dollar-sign"})])),_:1}),(0,t.Wm)(fe,{filled:"",color:"purple-12","input-class":"text-right text-h6",type:"number",modelValue:e.bidGemPrice,"onUpdate:modelValue":a[6]||(a[6]=a=>e.bidGemPrice=a)},{prepend:(0,t.w5)((()=>[$])),append:(0,t.w5)((()=>[(0,t.Wm)(ae,{round:"",dense:"",flat:"",icon:"las la-dollar-sign"})])),_:1},8,["modelValue"]),N,(0,t.Wm)(ae,{disable:"",unelevated:"",color:"primary",class:"full-width","no-caps":""},{default:(0,t.w5)((()=>[j])),_:1}),E])),_:1}),(0,t.Wm)(me,null,{default:(0,t.w5)((()=>[M])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var F=l(60499),L=l(19302),O=l(65457),Y=l(44320),K=l(86659),X=l(85990),J=l(17779),ee=function(e,a,l,t){function i(e){return e instanceof l?e:new l((function(a){a(e)}))}return new(l||(l=Promise))((function(l,s){function o(e){try{r(t.next(e))}catch(a){s(a)}}function n(e){try{r(t["throw"](e))}catch(a){s(a)}}function r(e){e.done?l(e.value):i(e.value).then(o,n)}r((t=t.apply(e,a||[])).next())}))};const ae=[{name:"nft",label:"itemName",field:"auction",align:"left",sortable:!0,sort:(e,a)=>e.endBlcok-a.endBlcok,headerStyle:"text-align: center;"},{name:"price",label:"price",field:"auction",align:"left",sortable:!0,sort:(e,a)=>parseInt(e.startingPrice,10)-parseInt(a.startingPrice,10)},{name:"level",label:"level",field:"level",align:"left",sortable:!0},{name:"scale",label:"weight",field:"scale",align:"left",sortable:!0},{name:"quality",label:"quality",field:"quality",align:"left",sortable:!0}];function le(e){J.log("Switch network: ",(0,X.v)().networks[e].name,(0,X.v)().networks[e].id),(0,X.v)().initWeb3(e)}const te={title:"Crystal - Auction"},ie=(0,t.aZ)({name:"AuctionPage",components:{NftMenu:Y.Z,CrystalGem:K.Z},setup(){const e=(0,L.Z)();e.dark.set(!0),(0,O.Z)(te);const a=(0,F.iH)([]),l=(0,F.iH)(!1),t=(0,F.iH)(0),i=(0,F.iH)("0xf18a1FEf4823Ce5ddb20B71D82FA06470DF84B17"),s=(0,F.iH)(),o=(0,F.iH)(!1),n=(0,F.iH)(0);function r(){return ee(this,void 0,void 0,(function*(){const e=yield(0,X.v)().web3.eth.net.getId().then((e=>(J.log(e),e))).catch((e=>(J.log("checkNetwork: ",e),-1)));return e}))}function u(e){return ee(this,void 0,void 0,(function*(){const a=(0,X.v)().networks[e].id,l=(0,X.v)().networks[e].name,t=(0,X.v)().networks[e].tokenName,i=(0,X.v)().networks[e].symbol,s=(0,X.v)().networks[e].rpcUrl,o=(0,X.v)().networks[e].explorer,n="0x"+a.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),location.reload()}catch(r){if(J.log(r),4902===r.code){J.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:l,nativeCurrency:{name:t,symbol:i,decimals:18},rpcUrls:[s],blockExplorerUrls:[o]}]}),location.reload()}catch(u){alert(u.message)}}else alert(r.message)}}))}function c(){return ee(this,void 0,void 0,(function*(){for(let e=0;e<96;e++){let l=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),t=Math.floor(1e3*Math.random())/1e3;const i={nft:0,level:l%16,color:l%6,quality:l%100+1,scale:l%74/100+.24,auction:{id:333+e,startingPrice:1+t*Math.pow(2,l%16+1),buyOutPrice:1+t*Math.pow(2,l%16+1)*(l%50+1),endBlcok:l%9999+99999}};a.value.push(i)}s.value=a.value[0]}))}function d(e){return ee(this,void 0,void 0,(function*(){J.log("bidClicked:",e),s.value=e,o.value=!0,n.value=parseFloat((1.011*e.auction.startingPrice).toFixed(2))}))}return{currentBlock:(0,F.iH)(99999),tab:(0,F.iH)("browse"),browseTab:(0,F.iH)("browseGems"),bidGem:s,bidGemDetail:o,bidGemPrice:n,gemColumns:ae,sellingGems:a,netIndex:t,auctionContract:i,switchNet:l,checkNetwork:r,switchNetwork:u,getSellingGems:c,bidClicked:d,getRarity(e){let a="Common",l="C";switch(e){case 4:case 5:case 6:case 7:l="UC";break;case 8:case 9:l="R";break;case 10:l="RR";break;case 11:l="RRR";break;case 12:l="SR";break;case 13:l="HR";break;case 14:l="UR";break;case 15:l="SSR";break;default:break}switch(e){case 4:case 5:case 6:case 7:a="Uncommon";break;case 8:case 9:case 10:case 11:a="Rare";break;case 12:case 13:case 14:case 15:a="Epic";break;default:break}return{rarity:a,short:l}},initGame(){return ee(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),a=e.get("ref");J.log(a||"No Ref");const i=t.value;le(i);const s=yield r();if(s!=(0,X.v)().networks[i].id)return J.log(s,"!=",(0,X.v)().networks[i].id),void(l.value=!0)}))}}},beforeMount(){this.initGame(),this.getSellingGems()}});var se=l(11639),oe=l(69885),ne=l(44458),re=l(47817),ue=l(57661),ce=l(50926),de=l(89800),me=l(84106),pe=l(8858),we=l(31233),be=l(21682),fe=l(67220),ge=l(68879),he=l(22857),ve=l(52765),ye=l(47128),_e=l(32074),qe=l(63190),ke=l(61357),xe=l(90136),We=l(11821),Ce=l(57691),Ge=l(66611),Ze=l(62146),Qe=l(69984),ze=l.n(Qe);const Ie=(0,se.Z)(ie,[["render",D],["__scopeId","data-v-91a3242c"]]),Ue=Ie;ze()(ie,"components",{QPage:oe.Z,QCard:ne.Z,QTabs:re.Z,QTab:ue.Z,QSeparator:ce.Z,QTabPanels:de.Z,QTabPanel:me.Z,QTable:pe.Z,QTr:we.Z,QTh:be.Z,QTd:fe.Z,QBtn:ge.Z,QIcon:he.Z,QPopupProxy:ve.Z,QBanner:ye.Z,QDialog:_e.Z,QCardSection:qe.Z,QAvatar:ke.Z,QSpace:xe.Z,QCardActions:We.Z,QChip:Ce.Z,QInput:Ge.Z}),ze()(ie,"directives",{ClosePopup:Ze.Z})}}]);