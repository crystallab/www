"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[277],{5711:(e,a,l)=>{l.r(a),l.d(a,{default:()=>pe});var t=l(59835),s=l(86970);const o=e=>((0,t.dD)("data-v-a91ef880"),e=e(),(0,t.Cn)(),e),i={class:"q-pa-md",style:{"max-width":"1439px"}},r={style:{position:"absolute",top:"5px",right:"5px","z-index":"1"}},n={key:0,class:"row content-start min-width-320 gem-box"},c=["onClick"],u={class:"my-table-details",style:{"padding-left":"0px"}},d=["onClick"],m={class:"inline"},p={class:"my-table-details"},w={class:"my-table-details"},g=o((()=>(0,t._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),v=o((()=>(0,t._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function f(e,a,l,o,f,h){const b=(0,t.up)("q-icon"),y=(0,t.up)("q-btn-toggle"),k=(0,t.up)("q-btn"),_=(0,t.up)("CrystalGem"),q=(0,t.up)("q-th"),x=(0,t.up)("q-tr"),C=(0,t.up)("q-td"),S=(0,t.up)("q-table"),Z=(0,t.up)("q-card"),W=(0,t.up)("q-tab-panel"),z=(0,t.up)("q-tab-panels"),Q=(0,t.up)("nft-menu"),N=(0,t.up)("q-avatar"),H=(0,t.up)("q-space"),I=(0,t.up)("q-card-section"),D=(0,t.up)("q-card-actions"),R=(0,t.up)("q-dialog"),U=(0,t.up)("q-page"),$=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(U,{class:"row items-center justify-evenly bg-pic",style:{"padding-top":"58px"}},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(z,{class:"bg-none",flat:"","model-value":"collection",animated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{name:"collection",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"bg-glass"},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(y,{modelValue:e.isStashGrid,"onUpdate:modelValue":a[0]||(a[0]=a=>e.isStashGrid=a),flat:"",dense:"","toggle-color":"white",color:"grey",options:[{value:!0,slot:"one"},{value:!1,slot:"two"}]},{one:(0,t.w5)((()=>[(0,t.Wm)(b,{right:"",name:"view_module"})])),two:(0,t.w5)((()=>[(0,t.Wm)(b,{right:"",name:"view_list"})])),_:1},8,["modelValue"])]),(0,t._)("div",r,[(0,t.Wm)(k,{"no-caps":"",unelevated:"",label:"Gem samples",onClick:a[1]||(a[1]=a=>e.test())})]),e.isStashGrid?((0,t.wg)(),(0,t.iD)("div",n,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.sample,(a=>((0,t.wg)(),(0,t.iD)("div",{class:"gem-in-box",key:a,onClick:l=>e.gemSelected(a.nft)},[(0,t.Wm)(_,{nft:a.nft,level:a.level,color:a.color,quality:a.quality,scale:a.scale,size:50,detail:!0},null,8,["nft","level","color","quality","scale"])],8,c)))),128))])):((0,t.wg)(),(0,t.j4)(S,{key:1,dense:e.$q.screen.lt.sm,"virtual-scroll":"","rows-per-page-options":[25],class:"my-sticky-header-table bg-none",rows:e.sample,columns:e.gemColumns,"row-key":"nft",style:{"text-shadow":"#000 1px 0 10px"}},{header:(0,t.w5)((a=>[(0,t.Wm)(x,{props:a},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.cols,(l=>((0,t.wg)(),(0,t.j4)(q,{key:l.name,props:a,class:"text-primary text-justify"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(""==l.label?"":e.$t("gems."+l.label)),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),"body-cell-nft":(0,t.w5)((a=>[(0,t.Wm)(C,{props:a},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t._)("div",{class:"inline",style:{width:"55px"},onClick:l=>e.gemSelected(a.row.nft)},[(0,t.Wm)(_,{nft:a.row.nft,level:a.row.level,color:a.row.color,quality:a.row.quality,scale:a.row.scale,size:50,detail:!0,showName:!0},null,8,["nft","level","color","quality","scale"])],8,d),(0,t._)("div",m,(0,s.zw)(e.$t("gems.levels."+a.row.level.toString())+e.$t("gems.names."+a.row.color.toString())),1)])])),_:2},1032,["props"])])),"body-cell-scale":(0,t.w5)((e=>[(0,t.Wm)(C,{props:e},{default:(0,t.w5)((()=>[(0,t._)("div",p,(0,s.zw)(parseInt(100*e.row.scale)),1)])),_:2},1032,["props"])])),"body-cell-level":(0,t.w5)((e=>[(0,t.Wm)(C,{props:e},{default:(0,t.w5)((()=>[(0,t._)("div",w,(0,s.zw)(parseInt(4*e.row.level+10)),1)])),_:2},1032,["props"])])),_:1},8,["dense","rows","columns"]))])),_:1})])),_:1})])),_:1})]),(0,t.Wm)(Q),(0,t.Wm)(R,{modelValue:e.switchNet,"onUpdate:modelValue":a[3]||(a[3]=a=>e.switchNet=a),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"bg-glass"},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"row items-center q-pb-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(N,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),g,(0,t.Wm)(H),(0,t.wy)((0,t.Wm)(k,{icon:"close",flat:"",round:"",dense:""},null,512),[[$]])])),_:1}),(0,t.Wm)(I,{class:"row items-center"},{default:(0,t.w5)((()=>[v])),_:1}),(0,t.Wm)(D,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(k,{class:"full-width",label:"Switch",color:"primary",onClick:a[2]||(a[2]=a=>e.switchNetwork(e.netIndex))},null,512),[[$]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var h=l(60499),b=l(19302),y=l(65457);const k=e=>((0,t.dD)("data-v-8b7e3648"),e=e(),(0,t.Cn)(),e),_={class:"inline"},q=k((()=>(0,t._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine"},null,-1))),x={class:"gem-box row items-center justify-evenly"},C=k((()=>(0,t._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine"},null,-1))),S=[C],Z={class:"gem-box-text"},W={class:"info",style:{"text-shadow":"#000 1px 0 10px"}},z={class:"gem-level"},Q={class:"gem-scale"},N={class:"gem-quality"},H={class:"gem-quality text-caption text-grey",style:{"max-width":"200px"}};function I(e,a,l,o,i,r){const n=(0,t.up)("q-btn"),c=(0,t.up)("q-chip"),u=(0,t.up)("q-card-section"),d=(0,t.up)("q-card"),m=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",_,[(0,t.Wm)(n,{style:(0,s.j5)(e.imgStyle),onClick:a[0]||(a[0]=a=>e.showDetail=!e.showDetail&&e.detail)},{default:(0,t.w5)((()=>[q])),_:1},8,["style"])]),(0,t.Wm)(m,{modelValue:e.showDetail,"onUpdate:modelValue":a[1]||(a[1]=a=>e.showDetail=a)},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{dark:"",class:"bg-glass min-width-320"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"row"},{default:(0,t.w5)((()=>[(0,t._)("div",x,[(0,t._)("div",{style:(0,s.j5)(e.detailStyle)},S,4),(0,t._)("div",Z,"# "+(0,s.zw)(e.nft),1)]),(0,t._)("div",W,[(0,t._)("div",{class:"text-h6 gem-name",style:(0,s.j5)("color: "+e.rarityColor)},(0,s.zw)(e.$t("gems.levels."+e.level.toString())+e.$t("gems.names."+e.color.toString())),5),(0,t._)("div",{class:"gem-rarity",style:(0,s.j5)("color: "+e.rarityColor)},[(0,t.Uk)((0,s.zw)(e.$t("gems."+e.rarity)+" "+e.$t("gems.gem"))+" ",1),(0,t.Wm)(c,{dense:""},{default:(0,t.w5)((()=>[(0,t._)("a",{style:(0,s.j5)("color: "+e.rarityColor)},(0,s.zw)(e.rarityShort),5)])),_:1})],4),(0,t._)("div",z,(0,s.zw)(e.$t("gems.level")+":")+" "+(0,s.zw)(4*e.level+10),1),(0,t._)("div",Q,(0,s.zw)(e.$t("gems.weight")+":")+" "+(0,s.zw)(parseInt(100*e.scale)),1),(0,t._)("div",N,(0,s.zw)(e.$t("gems.quality")+":")+" "+(0,s.zw)(e.quality),1),(0,t._)("div",H,(0,s.zw)(e.$t("gems.qualityInfo")),1)])])),_:1}),(0,t.Wm)(u,{class:"row"})])),_:1})])),_:1},8,["modelValue"])])}const D=(0,t.aZ)({name:"CrystalGem",props:{nft:{type:Number,required:!0},level:{type:Number,required:!0},color:{type:Number,required:!0},quality:{type:Number,required:!0},size:{type:Number,required:!1},scale:{type:Number,required:!1},detail:{type:Boolean,required:!1},showName:{type:Boolean,required:!1}},setup(e){const a=(0,h.iH)("#f0f0f0"),l=(0,h.iH)("gems/15.png"),t=(0,h.iH)(""),s=(0,h.iH)(""),o=(0,h.iH)(!1),i=(0,h.iH)("Common"),r=(0,h.iH)("C"),n=(0,h.iH)("#ffffff");switch(e.level){case 4:case 5:case 6:case 7:r.value="U";break;case 8:r.value="R";break;case 9:case 10:r.value="RR";break;case 11:r.value="RRR";break;case 12:r.value="SR";break;case 13:r.value="HR";break;case 14:r.value="UR";break;case 15:r.value="SSR";break;default:break}switch(e.level){case 4:case 5:case 6:case 7:i.value="Uncommon",n.value="#1eff00";break;case 8:case 9:case 10:i.value="Rare",n.value="#0070dd";break;case 11:case 12:case 13:case 14:case 15:i.value="Epic",n.value="#a335ee";break;default:break}switch(e.color){case 1:a.value="#bb0a1e";break;case 2:a.value="#16a52d";break;case 3:a.value="#2b26c1";break;case 4:a.value="#f6e83e";break;case 5:a.value="#9966cc";break;default:break}return l.value="gems/"+e.level.toString()+".png",t.value="transform: scale("+(e.scale||.5).toString()+"); height: "+(e.size||64).toString()+"px; width: "+(e.size||64).toString()+"px; background-blend-mode: hard-light; -webkit-mask-mode: alpha; mask-mode: alpha; background-image: url('"+l.value+"'), linear-gradient("+a.value+", "+a.value+"); -webkit-mask-image: url('"+l.value+"'); mask-image: url('"+l.value+"'); background-size: cover; -webkit-mask-size: 100%; mask-size: 100%;",s.value="transform: scale("+(e.scale||.5).toString()+"); height: 64px; width: 64px; background-blend-mode: hard-light; -webkit-mask-mode: alpha; mask-mode: alpha; background-image: url('"+l.value+"'), linear-gradient("+a.value+", "+a.value+"); -webkit-mask-image: url('"+l.value+"'); mask-image: url('"+l.value+"'); background-size: cover; -webkit-mask-size: 100%; mask-size: 100%;",{imgColor:a,imgUrl:l,imgStyle:t,detailStyle:s,showDetail:o,rarity:i,rarityShort:r,rarityColor:n}}});var R=l(11639),U=l(68879),$=l(32074),j=l(44458),G=l(63190),M=l(90136),V=l(57691),P=l(62146),T=l(69984),E=l.n(T);const B=(0,R.Z)(D,[["render",I],["__scopeId","data-v-8b7e3648"]]),A=B;E()(D,"components",{QBtn:U.Z,QDialog:$.Z,QCard:j.Z,QCardSection:G.Z,QSpace:M.Z,QChip:V.Z}),E()(D,"directives",{ClosePopup:P.Z});var Y=l(25034),F=l(85990),K=l(17779),L=function(e,a,l,t){function s(e){return e instanceof l?e:new l((function(a){a(e)}))}return new(l||(l=Promise))((function(l,o){function i(e){try{n(t.next(e))}catch(a){o(a)}}function r(e){try{n(t["throw"](e))}catch(a){o(a)}}function n(e){e.done?l(e.value):s(e.value).then(i,r)}n((t=t.apply(e,a||[])).next())}))};function J(e){K.log("Switch network: ",(0,F.v)().networks[e].name,(0,F.v)().networks[e].id),(0,F.v)().initWeb3(e)}const O={title:"Crystal - NFT"},X=[{name:"nft",label:"itemName",field:"nft",align:"left",sortable:!0},{name:"quality",label:"quality",field:"quality",align:"center",sortable:!0},{name:"scale",label:"weight",field:"scale",align:"center",sortable:!0},{name:"level",label:"level",field:"level",align:"center",sortable:!0}],ee=(0,t.aZ)({name:"NftListPage",components:{CrystalGem:A,NftMenu:Y.Z},setup(){const e=(0,b.Z)();e.dark.set(!0),(0,y.Z)(O);const a=(0,h.iH)(!1),l=(0,h.iH)(1),t=(0,h.iH)("0xE142A2741E6b55329185E4490F148b97d35c98B9"),s=(0,h.iH)([{}]);let o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function i(){return L(this,void 0,void 0,(function*(){const e=yield(0,F.v)().web3.eth.net.getId().then((e=>(K.log(e),e))).catch((e=>(K.log("checkNetwork: ",e),-1)));return e}))}function r(e){return L(this,void 0,void 0,(function*(){const a=(0,F.v)().networks[e].id,l=(0,F.v)().networks[e].name,t=(0,F.v)().networks[e].tokenName,s=(0,F.v)().networks[e].symbol,o=(0,F.v)().networks[e].rpcUrl,i=(0,F.v)().networks[e].explorer,r="0x"+a.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),location.reload()}catch(n){if(K.log(n),4902===n.code){K.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:l,nativeCurrency:{name:t,symbol:s,decimals:18},rpcUrls:[o],blockExplorerUrls:[i]}]}),location.reload()}catch(c){alert(c.message)}}else alert(n.message)}}))}function n(){s.value=[];for(let e=0;e<96;e++){const a={nft:e,level:e%16,color:Math.floor(e/16),quality:Math.floor(32*Math.random())+1,scale:.64};s.value.push(a)}}function c(){for(let e=0;e<1e5;e++){const e=Math.floor(Math.random()*Math.pow(2,16));let a=0;for(let l=0;l<16;l++){const t=e%Math.pow(2,l+1);if(0!==t&&e>0){a=l;break}}o[a]++}K.log("gems:",o)}return{isStashGrid:(0,h.iH)(!0),netIndex:l,switchNet:a,memberContract:t,sample:s,gemColumns:X,checkNetwork:i,switchNetwork:r,setSample:n,test:c,initGame(){return L(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),t=e.get("ref");K.log(t||"No Ref");const s=l.value;J(s);const o=yield i();if(o!=(0,F.v)().networks[s].id)return K.log(o,"!=",(0,F.v)().networks[s].id),void(a.value=!0)}))},updateInputs(e){K.log("updateInputs: ",e)},gemSelected(e){K.log("Selected: ",e)}}},beforeMount(){this.initGame(),this.setSample()}});var ae=l(69885),le=l(89800),te=l(84106),se=l(1389),oe=l(22857),ie=l(8858),re=l(31233),ne=l(21682),ce=l(67220),ue=l(61357),de=l(11821);const me=(0,R.Z)(ee,[["render",f],["__scopeId","data-v-a91ef880"]]),pe=me;E()(ee,"components",{QPage:ae.Z,QTabPanels:le.Z,QTabPanel:te.Z,QCard:j.Z,QBtnToggle:se.Z,QIcon:oe.Z,QBtn:U.Z,QTable:ie.Z,QTr:re.Z,QTh:ne.Z,QTd:ce.Z,QDialog:$.Z,QCardSection:G.Z,QAvatar:ue.Z,QSpace:M.Z,QCardActions:de.Z}),E()(ee,"directives",{ClosePopup:P.Z})}}]);