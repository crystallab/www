"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[554],{3901:(e,a,t)=>{t.r(a),t.d(a,{default:()=>me});var l=t(59835),s=t(86970);const o=e=>((0,l.dD)("data-v-2c51fbf0"),e=e(),(0,l.Cn)(),e),i={class:"q-pa-md",style:{"max-width":"1439px"}},r=o((()=>(0,l._)("div",{style:{position:"absolute",top:"5px",right:"5px","z-index":"1"}}," Gem samples ",-1))),n={key:0,class:"row content-start min-width-320 gem-box"},c=["onClick"],u={class:"my-table-details",style:{"padding-left":"0px"}},d=["onClick"],m={class:"gt-xs inline"},p={class:"my-table-details"},w=o((()=>(0,l._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),g=o((()=>(0,l._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function v(e,a,t,o,v,h){const f=(0,l.up)("q-icon"),y=(0,l.up)("q-btn-toggle"),b=(0,l.up)("CrystalGem"),k=(0,l.up)("q-th"),_=(0,l.up)("q-tr"),q=(0,l.up)("q-td"),x=(0,l.up)("q-table"),C=(0,l.up)("q-card"),S=(0,l.up)("q-tab-panel"),Z=(0,l.up)("q-tab-panels"),W=(0,l.up)("nft-menu"),z=(0,l.up)("q-avatar"),Q=(0,l.up)("q-space"),N=(0,l.up)("q-btn"),H=(0,l.up)("q-card-section"),D=(0,l.up)("q-card-actions"),I=(0,l.up)("q-dialog"),R=(0,l.up)("q-page"),U=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(R,{class:"row items-center justify-evenly",style:{"padding-top":"58px"}},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(Z,{flat:"","model-value":"collection",animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{name:"collection",class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(C,null,{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(y,{modelValue:e.isStashGrid,"onUpdate:modelValue":a[0]||(a[0]=a=>e.isStashGrid=a),flat:"",dense:"","toggle-color":"white",color:"grey",options:[{value:!0,slot:"one"},{value:!1,slot:"two"}]},{one:(0,l.w5)((()=>[(0,l.Wm)(f,{right:"",name:"view_module"})])),two:(0,l.w5)((()=>[(0,l.Wm)(f,{right:"",name:"view_list"})])),_:1},8,["modelValue"])]),r,e.isStashGrid?((0,l.wg)(),(0,l.iD)("div",n,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.sample,(a=>((0,l.wg)(),(0,l.iD)("div",{class:"gem-in-box",key:a,onClick:t=>e.gemSelected(a.nft)},[(0,l.Wm)(b,{nft:a.nft,level:a.level,color:a.color,quality:a.quality,scale:a.scale,size:50,detail:!0},null,8,["nft","level","color","quality","scale"])],8,c)))),128))])):((0,l.wg)(),(0,l.j4)(x,{key:1,"virtual-scroll":"","rows-per-page-options":[25],class:"my-sticky-header-table",rows:e.sample,columns:e.gemColumns,"row-key":"nft"},{header:(0,l.w5)((a=>[(0,l.Wm)(_,{props:a},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.cols,(t=>((0,l.wg)(),(0,l.j4)(k,{key:t.name,props:a,class:"text-primary text-justify"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(""==t.label?"":e.$t("gems."+t.label)),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),"body-cell-nft":(0,l.w5)((a=>[(0,l.Wm)(q,{props:a},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",{class:"inline",style:{width:"64px"},onClick:t=>e.gemSelected(a.row.nft)},[(0,l.Wm)(b,{nft:a.row.nft,level:a.row.level,color:a.row.color,quality:a.row.quality,scale:a.row.scale,size:48,detail:!0,showName:!0},null,8,["nft","level","color","quality","scale"])],8,d),(0,l._)("div",m,(0,s.zw)(e.$t("gems.levels."+a.row.level.toString())+e.$t("gems.names."+a.row.color.toString())),1)])])),_:2},1032,["props"])])),"body-cell-scale":(0,l.w5)((e=>[(0,l.Wm)(q,{props:e},{default:(0,l.w5)((()=>[(0,l._)("div",p,(0,s.zw)(parseInt(100*e.row.scale)),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns"]))])),_:1})])),_:1})])),_:1})]),(0,l.Wm)(W),(0,l.Wm)(I,{modelValue:e.switchNet,"onUpdate:modelValue":a[2]||(a[2]=a=>e.switchNet=a),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{class:"bg-glass"},{default:(0,l.w5)((()=>[(0,l.Wm)(H,{class:"row items-center q-pb-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),w,(0,l.Wm)(Q),(0,l.wy)((0,l.Wm)(N,{icon:"close",flat:"",round:"",dense:""},null,512),[[U]])])),_:1}),(0,l.Wm)(H,{class:"row items-center"},{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(D,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(N,{class:"full-width",label:"Switch",color:"primary",onClick:a[1]||(a[1]=a=>e.switchNetwork(e.netIndex))},null,512),[[U]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var h=t(60499),f=t(19302),y=t(65457);const b=e=>((0,l.dD)("data-v-8b7e3648"),e=e(),(0,l.Cn)(),e),k={class:"inline"},_=b((()=>(0,l._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine"},null,-1))),q={class:"gem-box row items-center justify-evenly"},x=b((()=>(0,l._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine"},null,-1))),C=[x],S={class:"gem-box-text"},Z={class:"info",style:{"text-shadow":"#000 1px 0 10px"}},W={class:"gem-level"},z={class:"gem-scale"},Q={class:"gem-quality"},N={class:"gem-quality text-caption text-grey",style:{"max-width":"200px"}};function H(e,a,t,o,i,r){const n=(0,l.up)("q-btn"),c=(0,l.up)("q-chip"),u=(0,l.up)("q-card-section"),d=(0,l.up)("q-card"),m=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",k,[(0,l.Wm)(n,{style:(0,s.j5)(e.imgStyle),onClick:a[0]||(a[0]=a=>e.showDetail=!e.showDetail&&e.detail)},{default:(0,l.w5)((()=>[_])),_:1},8,["style"])]),(0,l.Wm)(m,{modelValue:e.showDetail,"onUpdate:modelValue":a[1]||(a[1]=a=>e.showDetail=a)},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{dark:"",class:"bg-glass min-width-320"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"row"},{default:(0,l.w5)((()=>[(0,l._)("div",q,[(0,l._)("div",{style:(0,s.j5)(e.detailStyle)},C,4),(0,l._)("div",S,"# "+(0,s.zw)(e.nft),1)]),(0,l._)("div",Z,[(0,l._)("div",{class:"text-h6 gem-name",style:(0,s.j5)("color: "+e.rarityColor)},(0,s.zw)(e.$t("gems.levels."+e.level.toString())+e.$t("gems.names."+e.color.toString())),5),(0,l._)("div",{class:"gem-rarity",style:(0,s.j5)("color: "+e.rarityColor)},[(0,l.Uk)((0,s.zw)(e.$t("gems."+e.rarity)+" "+e.$t("gems.gem"))+" ",1),(0,l.Wm)(c,{dense:""},{default:(0,l.w5)((()=>[(0,l._)("a",{style:(0,s.j5)("color: "+e.rarityColor)},(0,s.zw)(e.rarityShort),5)])),_:1})],4),(0,l._)("div",W,(0,s.zw)(e.$t("gems.level")+":")+" "+(0,s.zw)(4*e.level+10),1),(0,l._)("div",z,(0,s.zw)(e.$t("gems.weight")+":")+" "+(0,s.zw)(parseInt(100*e.scale)),1),(0,l._)("div",Q,(0,s.zw)(e.$t("gems.quality")+":")+" "+(0,s.zw)(e.quality),1),(0,l._)("div",N,(0,s.zw)(e.$t("gems.qualityInfo")),1)])])),_:1}),(0,l.Wm)(u,{class:"row"})])),_:1})])),_:1},8,["modelValue"])])}const D=(0,l.aZ)({name:"CrystalGem",props:{nft:{type:Number,required:!0},level:{type:Number,required:!0},color:{type:Number,required:!0},quality:{type:Number,required:!0},size:{type:Number,required:!1},scale:{type:Number,required:!1},detail:{type:Boolean,required:!1},showName:{type:Boolean,required:!1}},setup(e){const a=(0,h.iH)("#f0f0f0"),t=(0,h.iH)("gems/15.png"),l=(0,h.iH)(""),s=(0,h.iH)(""),o=(0,h.iH)(!1),i=(0,h.iH)("Common"),r=(0,h.iH)("C"),n=(0,h.iH)("#ffffff");switch(e.level){case 4:case 5:case 6:case 7:r.value="U";break;case 8:r.value="R";break;case 9:case 10:r.value="RR";break;case 11:r.value="RRR";break;case 12:r.value="SR";break;case 13:r.value="HR";break;case 14:r.value="UR";break;case 15:r.value="SSR";break;default:break}switch(e.level){case 4:case 5:case 6:case 7:i.value="Uncommon",n.value="#1eff00";break;case 8:case 9:case 10:i.value="Rare",n.value="#0070dd";break;case 11:case 12:case 13:case 14:case 15:i.value="Epic",n.value="#a335ee";break;default:break}switch(e.color){case 1:a.value="#bb0a1e";break;case 2:a.value="#16a52d";break;case 3:a.value="#2b26c1";break;case 4:a.value="#f6e83e";break;case 5:a.value="#9966cc";break;default:break}return t.value="gems/"+e.level.toString()+".png",l.value="transform: scale("+(e.scale||.5).toString()+"); height: "+(e.size||64).toString()+"px; width: "+(e.size||64).toString()+"px; background-blend-mode: hard-light; -webkit-mask-mode: alpha; mask-mode: alpha; background-image: url('"+t.value+"'), linear-gradient("+a.value+", "+a.value+"); -webkit-mask-image: url('"+t.value+"'); mask-image: url('"+t.value+"'); background-size: cover; -webkit-mask-size: 100%; mask-size: 100%;",s.value="transform: scale("+(e.scale||.5).toString()+"); height: 64px; width: 64px; background-blend-mode: hard-light; -webkit-mask-mode: alpha; mask-mode: alpha; background-image: url('"+t.value+"'), linear-gradient("+a.value+", "+a.value+"); -webkit-mask-image: url('"+t.value+"'); mask-image: url('"+t.value+"'); background-size: cover; -webkit-mask-size: 100%; mask-size: 100%;",{imgColor:a,imgUrl:t,imgStyle:l,detailStyle:s,showDetail:o,rarity:i,rarityShort:r,rarityColor:n}}});var I=t(11639),R=t(68879),U=t(32074),j=t(44458),$=t(63190),G=t(90136),M=t(57691),V=t(62146),P=t(69984),T=t.n(P);const E=(0,I.Z)(D,[["render",H],["__scopeId","data-v-8b7e3648"]]),B=E;T()(D,"components",{QBtn:R.Z,QDialog:U.Z,QCard:j.Z,QCardSection:$.Z,QSpace:G.Z,QChip:M.Z}),T()(D,"directives",{ClosePopup:V.Z});var A=t(25034),Y=t(85990),F=t(17779),K=function(e,a,t,l){function s(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function i(e){try{n(l.next(e))}catch(a){o(a)}}function r(e){try{n(l["throw"](e))}catch(a){o(a)}}function n(e){e.done?t(e.value):s(e.value).then(i,r)}n((l=l.apply(e,a||[])).next())}))};function L(e){F.log("Switch network: ",(0,Y.v)().networks[e].name,(0,Y.v)().networks[e].id),(0,Y.v)().initWeb3(e)}const J={title:"Crystal - NFT"},O=[{name:"nft",label:"itemName",field:"nft",align:"left",sortable:!0},{name:"quality",label:"quality",field:"quality",align:"center",sortable:!0},{name:"scale",label:"weight",field:"scale",align:"center",sortable:!0},{name:"level",label:"level",field:"level",align:"center",sortable:!0}],X=(0,l.aZ)({name:"NftListPage",components:{CrystalGem:B,NftMenu:A.Z},setup(){const e=(0,f.Z)();e.dark.set(!0),(0,y.Z)(J);const a=(0,h.iH)(!1),t=(0,h.iH)(1),l=(0,h.iH)("0xE142A2741E6b55329185E4490F148b97d35c98B9"),s=(0,h.iH)([{}]);function o(){return K(this,void 0,void 0,(function*(){const e=yield(0,Y.v)().web3.eth.net.getId().then((e=>(F.log(e),e))).catch((e=>(F.log("checkNetwork: ",e),-1)));return e}))}function i(e){return K(this,void 0,void 0,(function*(){const a=(0,Y.v)().networks[e].id,t=(0,Y.v)().networks[e].name,l=(0,Y.v)().networks[e].tokenName,s=(0,Y.v)().networks[e].symbol,o=(0,Y.v)().networks[e].rpcUrl,i=(0,Y.v)().networks[e].explorer,r="0x"+a.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),location.reload()}catch(n){if(F.log(n),4902===n.code){F.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:t,nativeCurrency:{name:l,symbol:s,decimals:18},rpcUrls:[o],blockExplorerUrls:[i]}]}),location.reload()}catch(c){alert(c.message)}}else alert(n.message)}}))}function r(){s.value=[];for(let e=0;e<48;e++){const a={nft:e,level:Math.floor(16*Math.random()),color:Math.floor(6*Math.random()),quality:Math.floor(10*Math.random())+1,scale:.64*Math.random()+.36};s.value.push(a)}}return{isStashGrid:(0,h.iH)(!0),netIndex:t,switchNet:a,memberContract:l,sample:s,gemColumns:O,checkNetwork:o,switchNetwork:i,setSample:r,initGame(){return K(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),l=e.get("ref");F.log(l||"No Ref");const s=t.value;L(s);const i=yield o();if(i!=(0,Y.v)().networks[s].id)return F.log(i,"!=",(0,Y.v)().networks[s].id),void(a.value=!0)}))},updateInputs(e){F.log("updateInputs: ",e)},gemSelected(e){F.log("Selected: ",e)}}},beforeMount(){this.initGame(),this.setSample()}});var ee=t(69885),ae=t(89800),te=t(84106),le=t(1389),se=t(22857),oe=t(8858),ie=t(31233),re=t(21682),ne=t(67220),ce=t(61357),ue=t(11821);const de=(0,I.Z)(X,[["render",v],["__scopeId","data-v-2c51fbf0"]]),me=de;T()(X,"components",{QPage:ee.Z,QTabPanels:ae.Z,QTabPanel:te.Z,QCard:j.Z,QBtnToggle:le.Z,QIcon:se.Z,QTable:oe.Z,QTr:ie.Z,QTh:re.Z,QTd:ne.Z,QDialog:U.Z,QCardSection:$.Z,QAvatar:ce.Z,QSpace:G.Z,QBtn:R.Z,QCardActions:ue.Z}),T()(X,"directives",{ClosePopup:V.Z})}}]);