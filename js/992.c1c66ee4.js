"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[992],{86597:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var o=n(59835);const a=e=>((0,o.dD)("data-v-bded6950"),e=e(),(0,o.Cn)(),e),c={class:"q-pa-md",style:{"max-width":"1439px"}},r=a((()=>(0,o._)("div",{class:"text-h6"},"Auction House",-1))),i=(0,o.Uk)(" Under construction "),s=a((()=>(0,o._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),l=a((()=>(0,o._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function d(e,t,n,a,d,u){const w=(0,o.up)("q-tab-panel"),m=(0,o.up)("q-tab-panels"),p=(0,o.up)("nft-menu"),h=(0,o.up)("q-avatar"),f=(0,o.up)("q-space"),v=(0,o.up)("q-btn"),k=(0,o.up)("q-card-section"),y=(0,o.up)("q-card-actions"),g=(0,o.up)("q-card"),_=(0,o.up)("q-dialog"),b=(0,o.up)("q-page"),q=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(b,{class:"row items-center justify-evenly",style:{"padding-top":"58px"}},{default:(0,o.w5)((()=>[(0,o._)("div",c,[(0,o.Wm)(m,{flat:"","model-value":"auction",animated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{name:"auction"},{default:(0,o.w5)((()=>[r,i])),_:1})])),_:1})]),(0,o.Wm)(p),(0,o.Wm)(_,{modelValue:e.switchNet,"onUpdate:modelValue":t[1]||(t[1]=t=>e.switchNet=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"bg-glass"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{class:"row items-center q-pb-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),s,(0,o.Wm)(f),(0,o.wy)((0,o.Wm)(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])])),_:1}),(0,o.Wm)(k,{class:"row items-center"},{default:(0,o.w5)((()=>[l])),_:1}),(0,o.Wm)(y,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(v,{class:"full-width",label:"Switch",color:"primary",onClick:t[0]||(t[0]=t=>e.switchNetwork(e.netIndex))},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var u=n(60499),w=n(19302),m=n(65457),p=n(25034),h=n(85990),f=n(17779),v=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function r(e){try{s(o.next(e))}catch(t){c(t)}}function i(e){try{s(o["throw"](e))}catch(t){c(t)}}function s(e){e.done?n(e.value):a(e.value).then(r,i)}s((o=o.apply(e,t||[])).next())}))};function k(e){f.log("Switch network: ",(0,h.v)().networks[e].name,(0,h.v)().networks[e].id),(0,h.v)().initWeb3(e)}const y={title:"Crystal - Auction"},g=(0,o.aZ)({name:"AuctionPage",components:{NftMenu:p.Z},setup(){const e=(0,w.Z)();e.dark.set(!0),(0,m.Z)(y);const t=(0,u.iH)(!1),n=(0,u.iH)(1);function o(){return v(this,void 0,void 0,(function*(){const e=yield(0,h.v)().web3.eth.net.getId().then((e=>(f.log(e),e))).catch((e=>(f.log("checkNetwork: ",e),-1)));return e}))}function a(e){return v(this,void 0,void 0,(function*(){const t=(0,h.v)().networks[e].id,n=(0,h.v)().networks[e].name,o=(0,h.v)().networks[e].tokenName,a=(0,h.v)().networks[e].symbol,c=(0,h.v)().networks[e].rpcUrl,r=(0,h.v)().networks[e].explorer,i="0x"+t.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:i}]}),location.reload()}catch(s){if(f.log(s),4902===s.code){f.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:i,chainName:n,nativeCurrency:{name:o,symbol:a,decimals:18},rpcUrls:[c],blockExplorerUrls:[r]}]}),location.reload()}catch(l){alert(l.message)}}else alert(s.message)}}))}return{netIndex:n,switchNet:t,checkNetwork:o,switchNetwork:a,initGame(){return v(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),a=e.get("ref");f.log(a||"No Ref");const c=n.value;k(c);const r=yield o();if(r!=(0,h.v)().networks[c].id)return f.log(r,"!=",(0,h.v)().networks[c].id),void(t.value=!0)}))}}},beforeMount(){this.initGame()}});var _=n(11639),b=n(69885),q=n(89800),Z=n(84106),x=n(32074),C=n(44458),W=n(63190),N=n(61357),Q=n(90136),I=n(68879),P=n(11821),U=n(62146),A=n(69984),S=n.n(A);const E=(0,_.Z)(g,[["render",d],["__scopeId","data-v-bded6950"]]),H=E;S()(g,"components",{QPage:b.Z,QTabPanels:q.Z,QTabPanel:Z.Z,QDialog:x.Z,QCard:C.Z,QCardSection:W.Z,QAvatar:N.Z,QSpace:Q.Z,QBtn:I.Z,QCardActions:P.Z}),S()(g,"directives",{ClosePopup:U.Z})}}]);