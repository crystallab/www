"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[749],{3875:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var a=n(59835);const o=e=>((0,a.dD)("data-v-2c6176ab"),e=e(),(0,a.Cn)(),e),c={class:"q-pa-md",style:{"max-width":"1439px"}},r=o((()=>(0,a._)("div",{class:"text-h6"},"Auction House",-1))),s=(0,a.Uk)(" Under construction "),i=o((()=>(0,a._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),l=o((()=>(0,a._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function u(e,t,n,o,u,d){const w=(0,a.up)("q-tab-panel"),m=(0,a.up)("q-tab-panels"),p=(0,a.up)("nft-menu"),h=(0,a.up)("q-avatar"),f=(0,a.up)("q-space"),v=(0,a.up)("q-btn"),g=(0,a.up)("q-card-section"),k=(0,a.up)("q-card-actions"),y=(0,a.up)("q-card"),b=(0,a.up)("q-dialog"),_=(0,a.up)("q-page"),q=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(_,{class:"row items-center justify-evenly bg-pic",style:{"padding-top":"58px"}},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a.Wm)(m,{class:"bg-none",flat:"","model-value":"auction",animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{class:"bg-glass",name:"auction"},{default:(0,a.w5)((()=>[r,s])),_:1})])),_:1})]),(0,a.Wm)(p),(0,a.Wm)(b,{modelValue:e.switchNet,"onUpdate:modelValue":t[1]||(t[1]=t=>e.switchNet=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{class:"bg-glass"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"row items-center q-pb-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),i,(0,a.Wm)(f),(0,a.wy)((0,a.Wm)(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])])),_:1}),(0,a.Wm)(g,{class:"row items-center"},{default:(0,a.w5)((()=>[l])),_:1}),(0,a.Wm)(k,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(v,{class:"full-width",label:"Switch",color:"primary",onClick:t[0]||(t[0]=t=>e.switchNetwork(e.netIndex))},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var d=n(60499),w=n(19302),m=n(65457),p=n(43620),h=n(85990),f=n(17779),v=function(e,t,n,a){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function r(e){try{i(a.next(e))}catch(t){c(t)}}function s(e){try{i(a["throw"](e))}catch(t){c(t)}}function i(e){e.done?n(e.value):o(e.value).then(r,s)}i((a=a.apply(e,t||[])).next())}))};function g(e){f.log("Switch network: ",(0,h.v)().networks[e].name,(0,h.v)().networks[e].id),(0,h.v)().initWeb3(e)}const k={title:"Crystal - Auction"},y=(0,a.aZ)({name:"AuctionPage",components:{NftMenu:p.Z},setup(){const e=(0,w.Z)();e.dark.set(!0),(0,m.Z)(k);const t=(0,d.iH)(!1),n=(0,d.iH)(1);function a(){return v(this,void 0,void 0,(function*(){const e=yield(0,h.v)().web3.eth.net.getId().then((e=>(f.log(e),e))).catch((e=>(f.log("checkNetwork: ",e),-1)));return e}))}function o(e){return v(this,void 0,void 0,(function*(){const t=(0,h.v)().networks[e].id,n=(0,h.v)().networks[e].name,a=(0,h.v)().networks[e].tokenName,o=(0,h.v)().networks[e].symbol,c=(0,h.v)().networks[e].rpcUrl,r=(0,h.v)().networks[e].explorer,s="0x"+t.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:s}]}),location.reload()}catch(i){if(f.log(i),4902===i.code){f.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:s,chainName:n,nativeCurrency:{name:a,symbol:o,decimals:18},rpcUrls:[c],blockExplorerUrls:[r]}]}),location.reload()}catch(l){alert(l.message)}}else alert(i.message)}}))}return{netIndex:n,switchNet:t,checkNetwork:a,switchNetwork:o,initGame(){return v(this,void 0,void 0,(function*(){let e=new URLSearchParams(window.location.search),o=e.get("ref");f.log(o||"No Ref");const c=n.value;g(c);const r=yield a();if(r!=(0,h.v)().networks[c].id)return f.log(r,"!=",(0,h.v)().networks[c].id),void(t.value=!0)}))}}},beforeMount(){this.initGame()}});var b=n(11639),_=n(69885),q=n(89800),Z=n(84106),x=n(32074),C=n(44458),W=n(63190),N=n(61357),Q=n(90136),I=n(68879),P=n(11821),U=n(62146),A=n(69984),S=n.n(A);const E=(0,b.Z)(y,[["render",u],["__scopeId","data-v-2c6176ab"]]),H=E;S()(y,"components",{QPage:_.Z,QTabPanels:q.Z,QTabPanel:Z.Z,QDialog:x.Z,QCard:C.Z,QCardSection:W.Z,QAvatar:N.Z,QSpace:Q.Z,QBtn:I.Z,QCardActions:P.Z}),S()(y,"directives",{ClosePopup:U.Z})}}]);