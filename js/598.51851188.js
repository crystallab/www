"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[598],{5598:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ne});var n=a(59835),s=a(86970);const i=e=>((0,n.dD)("data-v-15b27cd4"),e=e(),(0,n.Cn)(),e),l=i((()=>(0,n._)("div",{class:"min-width-320 text-white text-h6 text-bold text-center"}," Dig Your Gems ",-1))),r=i((()=>(0,n._)("div",{class:"min-width-320 text-white text-center"},"Coming soon...",-1))),o=i((()=>(0,n._)("div",{class:"self-center full-width no-outline",tabindex:"0"}," Member Points: ",-1))),u=i((()=>(0,n._)("div",{class:"self-center full-width no-outline",tabindex:"0"}," Points/Stone: ",-1))),c=i((()=>(0,n._)("div",null,null,-1))),d={class:"row items-center justify-evenly"},m=(0,n.Uk)(" Refresh Samples "),p=(0,n.Uk)(" Go Back "),y=i((()=>(0,n._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),w=i((()=>(0,n._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function v(e,t,a,i,v,f){const h=(0,n.up)("q-btn"),b=(0,n.up)("q-field"),g=(0,n.up)("CrystalGem"),k=(0,n.up)("q-card-section"),_=(0,n.up)("q-card"),x=(0,n.up)("q-avatar"),C=(0,n.up)("q-space"),q=(0,n.up)("q-card-actions"),T=(0,n.up)("q-dialog"),S=(0,n.up)("q-page"),M=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(S,{class:"row items-center justify-evenly"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"bg-glass",style:{"max-width":"340px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{class:"row q-gutter-sm justify-evenly"},{default:(0,n.w5)((()=>[l,r,(0,n.Wm)(b,{outlined:"","stack-label":"",label:"Play game to get more",readonly:"",class:"min-width-320"},{control:(0,n.w5)((()=>[o])),append:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.memberInfo.score.value)+" ",1),(0,n.Wm)(h,{round:"",dense:"",flat:"",icon:"las la-gem",to:"games"})])),_:1}),(0,n.Wm)(b,{outlined:"",dense:"","stack-label":"",label:"The cost of digging once",readonly:"",class:"min-width-320"},{control:(0,n.w5)((()=>[u])),append:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.minerInfo.price.value)+" ",1),(0,n.Wm)(h,{disable:"",round:"",dense:"",flat:"",icon:"las la-gem"})])),_:1}),c,(0,n._)("div",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.sample,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,style:{margin:"10px"}},[(0,n.Wm)(g,{nft:e.nft,level:e.level,color:e.color,quality:e.quality,scale:e.scale,size:50,detail:!0},null,8,["nft","level","color","quality","scale"])])))),128))]),(0,n.Wm)(h,{unelevated:"",color:"primary",class:"min-width-320",onClick:t[0]||(t[0]=t=>e.setSample()),"no-caps":""},{default:(0,n.w5)((()=>[m])),_:1}),(0,n.Wm)(h,{"no-caps":"",unelevated:"",color:"primary",class:"min-width-320",to:"/"},{default:(0,n.w5)((()=>[p])),_:1})])),_:1})])),_:1}),(0,n.Wm)(T,{modelValue:e.switchNet,"onUpdate:modelValue":t[2]||(t[2]=t=>e.switchNet=t),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"bg-glass"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),y,(0,n.Wm)(C),(0,n.wy)((0,n.Wm)(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[M]])])),_:1}),(0,n.Wm)(k,{class:"row items-center"},{default:(0,n.w5)((()=>[w])),_:1}),(0,n.Wm)(q,{align:"right"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(h,{class:"full-width",label:"Switch",color:"primary",onClick:t[1]||(t[1]=t=>e.switchNetwork(e.netIndex))},null,512),[[M]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var f=a(60499),h=a(19302),b=a(65457);const g=e=>((0,n.dD)("data-v-51993a06"),e=e(),(0,n.Cn)(),e),k=g((()=>(0,n._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine"},null,-1))),_={class:"gem-box row items-center justify-evenly"},x=g((()=>(0,n._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine"},null,-1))),C=[x],q=g((()=>(0,n._)("div",{class:"gem-box-text"},null,-1))),T={class:"info",style:{"text-shadow":"#000 1px 0 10px"}},S={class:"gem-level"},M={class:"gem-scale"},W={class:"gem-quality"},Z={class:"gem-quality text-caption text-grey",style:{"max-width":"200px"}};function I(e,t,a,i,l,r){const o=(0,n.up)("q-btn"),u=(0,n.up)("q-chip"),c=(0,n.up)("q-card-section"),d=(0,n.up)("q-card"),m=(0,n.up)("q-dialog");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(o,{style:(0,s.j5)(e.imgStyle),onClick:t[0]||(t[0]=t=>e.showDetail=!e.showDetail&&e.detail)},{default:(0,n.w5)((()=>[k])),_:1},8,["style"]),(0,n.Wm)(m,{modelValue:e.showDetail,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showDetail=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{dark:"",class:"bg-glass min-width-320"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"row"},{default:(0,n.w5)((()=>[(0,n._)("div",_,[(0,n._)("div",{style:(0,s.j5)(e.imgStyle)},C,4),q]),(0,n._)("div",T,[(0,n._)("div",{class:"text-h6 gem-name",style:(0,s.j5)("color: "+e.rarityColor)},(0,s.zw)(e.$t("gems.levels."+e.level.toString())+e.$t("gems.names."+e.color.toString())),5),(0,n._)("div",{class:"gem-rarity",style:(0,s.j5)("color: "+e.rarityColor)},[(0,n.Uk)((0,s.zw)(e.$t("gems."+e.rarity)+" "+e.$t("gems.gem"))+" ",1),(0,n.Wm)(u,{dense:""},{default:(0,n.w5)((()=>[(0,n._)("a",{style:(0,s.j5)("color: "+e.rarityColor)},(0,s.zw)(e.rarityShort),5)])),_:1})],4),(0,n._)("div",S,(0,s.zw)(e.$t("gems.level")+":")+" "+(0,s.zw)(4*e.level+10),1),(0,n._)("div",M,(0,s.zw)(e.$t("gems.weight")+":")+" "+(0,s.zw)(parseInt(100*e.scale)),1),(0,n._)("div",W,(0,s.zw)(e.$t("gems.quality")+":")+" "+(0,s.zw)(e.quality),1),(0,n._)("div",Z,(0,s.zw)(e.$t("gems.qualityInfo")),1)])])),_:1}),(0,n.Wm)(c,{class:"row"})])),_:1})])),_:1},8,["modelValue"])])}const N=(0,n.aZ)({name:"CrystalGem",props:{nft:{type:Number,required:!0},level:{type:Number,required:!0},color:{type:Number,required:!0},quality:{type:Number,required:!0},size:{type:Number,required:!1},scale:{type:Number,required:!1},detail:{type:Boolean,required:!1}},setup(e){const t=(0,f.iH)("#f0f0f0"),a=(0,f.iH)("gems/15.png"),n=(0,f.iH)(""),s=(0,f.iH)(!1),i=(0,f.iH)("Common"),l=(0,f.iH)("C"),r=(0,f.iH)("#ffffff");switch(e.level){case 4:case 5:case 6:case 7:l.value="U";break;case 8:l.value="R";break;case 9:case 10:l.value="RR";break;case 11:l.value="RRR";break;case 12:l.value="SR";break;case 13:l.value="HR";break;case 14:l.value="UR";break;case 15:l.value="SSR";break;default:break}switch(e.level){case 4:case 5:case 6:case 7:i.value="Uncommon",r.value="#1eff00";break;case 8:case 9:case 10:i.value="Rare",r.value="#0070dd";break;case 11:case 12:case 13:case 14:case 15:i.value="Epic",r.value="#a335ee";break;default:break}switch(e.color){case 1:t.value="#bb0a1e";break;case 2:t.value="#16a52d";break;case 3:t.value="#2b26c1";break;case 4:t.value="#f6e83e";break;case 5:t.value="#9966cc";break;default:break}return a.value="gems/"+e.level.toString()+".png",n.value="transform: scale("+(e.scale||.5).toString()+"); height: "+(e.size||64).toString()+"px; width: "+(e.size||64).toString()+"px; background-blend-mode: hard-light; -webkit-mask-mode: alpha; mask-mode: alpha; background-image: url('"+a.value+"'), linear-gradient("+t.value+", "+t.value+"); -webkit-mask-image: url('"+a.value+"'); mask-image: url('"+a.value+"'); background-size: cover; -webkit-mask-size: 100%; mask-size: 100%;",{imgColor:t,imgUrl:a,imgStyle:n,showDetail:s,rarity:i,rarityShort:l,rarityColor:r}}});var z=a(11639),D=a(68879),H=a(32074),Q=a(44458),U=a(63190),R=a(90136),j=a(57691),A=a(62146),P=a(69984),$=a.n(P);const B=(0,z.Z)(N,[["render",I],["__scopeId","data-v-51993a06"]]),G=B;$()(N,"components",{QBtn:D.Z,QDialog:H.Z,QCard:Q.Z,QCardSection:U.Z,QSpace:R.Z,QChip:j.Z}),$()(N,"directives",{ClosePopup:A.Z});var O=a(85990),V=a(17779),E=function(e,t,a,n){function s(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function l(e){try{o(n.next(e))}catch(t){i(t)}}function r(e){try{o(n["throw"](e))}catch(t){i(t)}}function o(e){e.done?a(e.value):s(e.value).then(l,r)}o((n=n.apply(e,t||[])).next())}))};const F=a(94428);function Y(e){V.log("Switch network: ",(0,O.v)().networks[e].name,(0,O.v)().networks[e].id),(0,O.v)().initWeb3(e)}const J={title:"Crystal - NFT"},K=(0,n.aZ)({name:"NftClaimPage",components:{CrystalGem:G},setup(){const e=(0,h.Z)();e.dark.set(!0),(0,b.Z)(J);const t=(0,f.iH)(!1),a=(0,f.iH)(0),n=(0,f.iH)("0xf18a1FEf4823Ce5ddb20B71D82FA06470DF84B17"),s={bets:(0,f.iH)("0"),score:(0,f.iH)("0"),name:(0,f.iH)("n/a")},i={price:(0,f.iH)("10000")},l=(0,f.iH)([{}]);function r(){return E(this,void 0,void 0,(function*(){const e=yield(0,O.v)().web3.eth.net.getId().then((e=>(V.log(e),e))).catch((e=>(V.log("checkNetwork: ",e),-1)));return e}))}function o(e){return E(this,void 0,void 0,(function*(){const t=(0,O.v)().networks[e].id,a=(0,O.v)().networks[e].name,n=(0,O.v)().networks[e].tokenName,s=(0,O.v)().networks[e].symbol,i=(0,O.v)().networks[e].rpcUrl,l=(0,O.v)().networks[e].explorer,r="0x"+t.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),location.reload()}catch(o){if(V.log(o),4902===o.code){V.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:a,nativeCurrency:{name:n,symbol:s,decimals:18},rpcUrls:[i],blockExplorerUrls:[l]}]}),location.reload()}catch(u){alert(u.message)}}else alert(o.message)}}))}function u(e){return E(this,void 0,void 0,(function*(){const t=(0,O.v)().web3Instance;if(t.utils.isAddress((0,O.v)().accountAddr)){const a=new t.eth.Contract(F,e);a.methods.userDetail((0,O.v)().accountAddr).call().then((function(e){V.log("getMemberInfo: ",e),s.bets.value=e.bets,s.score.value=e.score,s.name.value="0"==e.name?"N/a":e.name})).catch((function(e){V.log("getMemberInfo: ",e)}))}}))}function c(){l.value=[];for(let e=0;e<16;e++){const t={nft:e,level:e%16,color:Math.floor(6*Math.random()),quality:Math.floor(10*Math.random())+1,scale:.64*Math.random()+.36};l.value.push(t)}}return{netIndex:a,switchNet:t,memberContract:n,memberInfo:s,minerInfo:i,sample:l,checkNetwork:r,switchNetwork:o,getMemberInfo:u,setSample:c,initGame(){return E(this,void 0,void 0,(function*(){const e=a.value;Y(e);const s=yield r();if(s!=(0,O.v)().networks[e].id)return V.log(s,"!=",(0,O.v)().networks[e].id),void(t.value=!0);u(n.value)}))},updateInputs(e){V.log("updateInputs: ",e)}}},beforeMount(){this.initGame(),this.setSample()}});var L=a(69885),X=a(18149),ee=a(61357),te=a(11821);const ae=(0,z.Z)(K,[["render",v],["__scopeId","data-v-15b27cd4"]]),ne=ae;$()(K,"components",{QPage:L.Z,QCard:Q.Z,QCardSection:U.Z,QField:X.Z,QBtn:D.Z,QDialog:H.Z,QAvatar:ee.Z,QSpace:R.Z,QCardActions:te.Z}),$()(K,"directives",{ClosePopup:A.Z})},94428:e=>{e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"added","type":"address"}],"name":"CertifiedAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"removed","type":"address"}],"name":"CertifiedRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"addCertified","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"addScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"certifieds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"isCertified","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"removeCertified","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"nameIndex","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"setName","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"subScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userBets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userDetail","outputs":[{"components":[{"internalType":"uint256","name":"bets","type":"uint256"},{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"uint256","name":"name","type":"uint256"}],"internalType":"struct Membership.User","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userNameIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')}}]);