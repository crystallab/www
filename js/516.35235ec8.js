"use strict";(self["webpackChunkcrystal_dapp"]=self["webpackChunkcrystal_dapp"]||[]).push([[516],{98516:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Y});var a=n(59835),i=n(86970);const s=e=>((0,a.dD)("data-v-d586d31a"),e=e(),(0,a.Cn)(),e),r={class:"row items-center justify-evenly",style:{width:"100%",position:"fixed"}},o=s((()=>(0,a._)("div",{class:"min-width-320 text-white text-h6 text-bold text-center"},"Dig your crystal",-1))),l=s((()=>(0,a._)("div",{class:"min-width-320 text-white text-center"},"Coming soon...",-1))),u=s((()=>(0,a._)("div",{class:"self-center full-width no-outline",tabindex:"0"}," Total Bets: ",-1))),d=s((()=>(0,a._)("div",{class:"self-center full-width no-outline",tabindex:"0"}," Member Points: ",-1))),c=s((()=>(0,a._)("div",{class:"self-center full-width no-outline",tabindex:"0"}," Price: ",-1))),p=(0,a.Uk)(" Go back "),m=s((()=>(0,a._)("span",{class:"text-h6 q-ml-sm"},"Incorrect blockchain",-1))),y=s((()=>(0,a._)("span",{class:"q-ml-sm"},"You are currently not connected to the correct network.",-1)));function f(e,t,n,s,f,w){const v=(0,a.up)("CrystalGem"),b=(0,a.up)("q-field"),h=(0,a.up)("q-btn"),g=(0,a.up)("q-card-section"),k=(0,a.up)("q-card"),_=(0,a.up)("q-avatar"),T=(0,a.up)("q-space"),x=(0,a.up)("q-card-actions"),C=(0,a.up)("q-dialog"),M=(0,a.up)("q-page"),I=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(M,{class:"row items-center justify-evenly"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(999,(e=>(0,a.Wm)(v,{key:e,nft:e-1,level:Math.floor(16*Math.random()),color:Math.floor(6*Math.random()),size:60,scale:.64*Math.random()+.36},null,8,["nft","level","color","scale"]))),64))]),(0,a.Wm)(k,{class:"bg-glass",style:{"max-width":"340px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"row q-gutter-sm justify-evenly"},{default:(0,a.w5)((()=>[o,l,(0,a.Wm)(b,{outlined:"","stack-label":"",readonly:"",class:"min-width-320"},{control:(0,a.w5)((()=>[u])),append:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.memberInfo.bets.value),1)])),_:1}),(0,a.Wm)(b,{label:"Play game to get more",outlined:"","stack-label":"",readonly:"",class:"min-width-320"},{control:(0,a.w5)((()=>[d])),append:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.memberInfo.score.value),1)])),_:1}),(0,a.Wm)(b,{outlined:"","stack-label":"",readonly:"",class:"min-width-320"},{control:(0,a.w5)((()=>[c])),append:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.minerInfo.price.value),1)])),_:1}),(0,a.Wm)(h,{unelevated:"",color:"primary",class:"min-width-320",to:"/"},{default:(0,a.w5)((()=>[p])),_:1})])),_:1})])),_:1}),(0,a.Wm)(C,{modelValue:e.switchNet,"onUpdate:modelValue":t[1]||(t[1]=t=>e.switchNet=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"bg-glass"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"row items-center q-pb-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{icon:"signal_wifi_off",color:"primary","text-color":"white",size:"xs"}),m,(0,a.Wm)(T),(0,a.wy)((0,a.Wm)(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,a.Wm)(g,{class:"row items-center"},{default:(0,a.w5)((()=>[y])),_:1}),(0,a.Wm)(x,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(h,{class:"full-width",label:"Switch",color:"primary",onClick:t[0]||(t[0]=t=>e.switchNetwork(e.netIndex))},null,512),[[I]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var w=n(60499),v=n(19302),b=n(65457);const h=e=>((0,a.dD)("data-v-7c5023bd"),e=e(),(0,a.Cn)(),e),g=h((()=>(0,a._)("img",{class:"gem",src:"/gems/shine.png",alt:"shine"},null,-1))),k=[g];function _(e,t,n,s,r,o){return(0,a.wg)(),(0,a.iD)("div",{style:(0,i.j5)(e.imgStyle)},k,4)}const T=(0,a.aZ)({name:"CrystalGem",props:{nft:{type:Number,required:!0},level:{type:Number,required:!0},color:{type:Number,required:!0},size:{type:Number,required:!1},scale:{type:Number,required:!1}},setup(e){const t=(0,w.iH)("#f0f0f0"),n=(0,w.iH)("gems/15.png"),a=(0,w.iH)("");switch(e.color){case 1:t.value="#c31d1d";break;case 2:t.value="#91b33c";break;case 3:t.value="#0f21ab";break;case 4:t.value="#ffbf00";break;case 5:t.value="#622f5e";break;default:break}return n.value="gems/"+e.level.toString()+".png",a.value="transform: scale("+(e.scale||.5).toString()+"); height: "+(e.size||64).toString()+"px; width: "+(e.size||64).toString()+"px; background-blend-mode: hard-light; -webkit-mask-mode: alpha; mask-mode: alpha; background-image: url('"+n.value+"'), linear-gradient("+t.value+", "+t.value+"); -webkit-mask-image: url('"+n.value+"'); mask-image: url('"+n.value+"'); background-size: cover; -webkit-mask-size: 100%; mask-size: 100%;",{imgColor:t,imgUrl:n,imgStyle:a}}});var x=n(11639);const C=(0,x.Z)(T,[["render",_],["__scopeId","data-v-7c5023bd"]]),M=C;var I=n(85990),q=n(17779),N=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(a.next(e))}catch(t){s(t)}}function o(e){try{l(a["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):i(e.value).then(r,o)}l((a=a.apply(e,t||[])).next())}))};const W=n(94428);function Z(e){q.log("Switch network: ",(0,I.v)().networks[e].name,(0,I.v)().networks[e].id),(0,I.v)().initWeb3(e)}const S={title:"Crystal - NFT"},z=(0,a.aZ)({name:"NftClaimPage",components:{CrystalGem:M},setup(){const e=(0,v.Z)();e.dark.set(!0),(0,b.Z)(S);const t=(0,w.iH)(!1),n=(0,w.iH)(0),a=(0,w.iH)("0xf18a1FEf4823Ce5ddb20B71D82FA06470DF84B17"),i={bets:(0,w.iH)("0"),score:(0,w.iH)("0"),name:(0,w.iH)("n/a")},s={price:(0,w.iH)("10000")};function r(){return N(this,void 0,void 0,(function*(){const e=yield(0,I.v)().web3.eth.net.getId().then((e=>(q.log(e),e))).catch((e=>(q.log("checkNetwork: ",e),-1)));return e}))}function o(e){return N(this,void 0,void 0,(function*(){const t=(0,I.v)().networks[e].id,n=(0,I.v)().networks[e].name,a=(0,I.v)().networks[e].tokenName,i=(0,I.v)().networks[e].symbol,s=(0,I.v)().networks[e].rpcUrl,r=(0,I.v)().networks[e].explorer,o="0x"+t.toString(16);if("undefined"!==typeof window.ethereum)try{yield window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:o}]}),location.reload()}catch(l){if(q.log(l),4902===l.code){q.log("Add Chain");try{yield window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:o,chainName:n,nativeCurrency:{name:a,symbol:i,decimals:18},rpcUrls:[s],blockExplorerUrls:[r]}]}),location.reload()}catch(u){alert(u.message)}}else alert(l.message)}}))}function l(e){return N(this,void 0,void 0,(function*(){const t=(0,I.v)().web3Instance;if(t.utils.isAddress((0,I.v)().accountAddr)){const n=new t.eth.Contract(W,e);n.methods.userDetail((0,I.v)().accountAddr).call().then((function(e){q.log("getMemberInfo: ",e),i.bets.value=e.bets,i.score.value=e.score,i.name.value="0"==e.name?"N/a":e.name})).catch((function(e){q.log("getMemberInfo: ",e)}))}}))}return{netIndex:n,switchNet:t,memberContract:a,memberInfo:i,minerInfo:s,checkNetwork:r,switchNetwork:o,getMemberInfo:l,initGame(){return N(this,void 0,void 0,(function*(){const e=n.value;Z(e);const i=yield r();if(i!=(0,I.v)().networks[e].id)return q.log(i,"!=",(0,I.v)().networks[e].id),void(t.value=!0);l(a.value)}))},updateInputs(e){q.log("updateInputs: ",e)}}},beforeMount(){this.initGame()}});var H=n(69885),D=n(44458),Q=n(63190),U=n(18149),A=n(68879),O=n(32074),P=n(61357),G=n(90136),j=n(11821),B=n(62146),F=n(69984),E=n.n(F);const V=(0,x.Z)(z,[["render",f],["__scopeId","data-v-d586d31a"]]),Y=V;E()(z,"components",{QPage:H.Z,QCard:D.Z,QCardSection:Q.Z,QField:U.Z,QBtn:A.Z,QDialog:O.Z,QAvatar:P.Z,QSpace:G.Z,QCardActions:j.Z}),E()(z,"directives",{ClosePopup:B.Z})},94428:e=>{e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"added","type":"address"}],"name":"CertifiedAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"removed","type":"address"}],"name":"CertifiedRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"addCertified","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"addScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"certifieds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"who","type":"address"}],"name":"isCertified","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"removeCertified","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"nameIndex","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"setName","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"address","name":"account","type":"address"}],"name":"subScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userBets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userDetail","outputs":[{"components":[{"internalType":"uint256","name":"bets","type":"uint256"},{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"uint256","name":"name","type":"uint256"}],"internalType":"struct Membership.User","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userNameIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"userScore","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')}}]);